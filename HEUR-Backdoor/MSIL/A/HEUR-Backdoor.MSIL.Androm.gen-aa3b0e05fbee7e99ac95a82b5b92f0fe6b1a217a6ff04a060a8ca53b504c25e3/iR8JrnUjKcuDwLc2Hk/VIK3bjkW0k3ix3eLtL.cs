using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Text;
using CJRm7NwEYMZs2pufgG;
using EhdA9I4ntZdCXaNotex;
using HrqeXu48u5BWvM2U05m;
using JAhEyh46uvA1xwWjvIk;
using MRruVVqlPmmnrAAGS3;
using Saa9SRKshJYVcIUCRt;
using UcGfrv63mS7d55kZq4;
using cgJuIS3Y42vtcmltot;

namespace iR8JrnUjKcuDwLc2Hk;

internal class VIK3bjkW0k3ix3eLtL
{
	[StructLayout(LayoutKind.Sequential)]
	internal class F5ELJaxypwR8BbiJLb
	{
		internal IntPtr rOZJv46Xt7;

		internal IntPtr gWWJaaXH6y;

		internal IntPtr fvSJ7Ncvf7;

		internal IntPtr BhsJWlPDH9;

		internal IntPtr J6iJptJC35;

		internal IntPtr HjNJd26Mu0;

		private static F5ELJaxypwR8BbiJLb I1FJiNVscb;

		public F5ELJaxypwR8BbiJLb()
		{
			xvSuwU4RhceXCdhSJgI.d012lyPzTwFQy();
			ud9OYc4i7bqX53MRDiY.tvE0cQ1Gob();
			base._002Ector();
		}

		internal static bool vmOJ2nwkXQ()
		{
			return I1FJiNVscb == null;
		}

		internal static F5ELJaxypwR8BbiJLb SVvJy6gjvJ()
		{
			return I1FJiNVscb;
		}

		static F5ELJaxypwR8BbiJLb()
		{
			K1GfMT41V9bS6oPmMyh.cKXl4vhcQo();
		}
	}

	internal delegate int BNUaDCZLdySAA7DfQo(IntPtr ProcessHandle, int ProcessInformationClass, F5ELJaxypwR8BbiJLb ProcessInformation, uint ProcessInformationLength, out uint ReturnLength);

	internal delegate int KZ2E4tFfhSsy3YhoUn(IntPtr ProcessHandle, int ProcessInformationClass, out uint debugPort, uint ProcessInformationLength, out uint ReturnLength);

	internal delegate int yvTQS0BgEvv1N6M9uJ();

	internal delegate void XgncbnO4Ry8MHLAZH3([MarshalAs(UnmanagedType.LPStr)] string lpOutputString);

	internal delegate int MXYLfyGnuFvdSkUkc6(IntPtr hProcess, ref int pbDebuggerPresent);

	internal delegate int qpPw6nTjm8uHgclodA(IntPtr wnd, IntPtr lParam);

	internal delegate int aX1rW1M0HJU1C2rnvB(qpPw6nTjm8uHgclodA lpEnumFunc, IntPtr lParam);

	private static bool JyaJsyXfpg;

	private static VIK3bjkW0k3ix3eLtL SCLJVA37cq;

	public VIK3bjkW0k3ix3eLtL()
	{
		xvSuwU4RhceXCdhSJgI.d012lyPzTwFQy();
		ud9OYc4i7bqX53MRDiY.tvE0cQ1Gob();
		base._002Ector();
	}

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern void SetLastError(uint uint_0);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern int CloseHandle(IntPtr intptr_0);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern IntPtr OpenProcess(uint uint_0, int int_0, uint uint_1);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern uint GetCurrentProcessId();

	[DllImport("kernel32.dll", CharSet = CharSet.Auto, SetLastError = true)]
	internal static extern IntPtr LoadLibrary(string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, ExactSpelling = true)]
	internal static extern BNUaDCZLdySAA7DfQo GetProcAddress(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern KZ2E4tFfhSsy3YhoUn GetProcAddress_1(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern MXYLfyGnuFvdSkUkc6 GetProcAddress_2(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern yvTQS0BgEvv1N6M9uJ GetProcAddress_3(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern XgncbnO4Ry8MHLAZH3 GetProcAddress_4(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern aX1rW1M0HJU1C2rnvB GetProcAddress_5(IntPtr intptr_0, string string_0);

	private static int GeZ4IaUwWg(IntPtr intptr_0, IntPtr intptr_1)
	{
		int num = 2;
		string[] array2 = default(string[]);
		string object_ = default(string);
		while (true)
		{
			string[] array = EEmoh0RBS1CR8ZgUK3.mf4JZrAk7M(f8F0bInV17iDeAuVHn.DMNoUaDCL(12));
			int num2 = 1;
			if (Cv04zf8NiF() == null)
			{
				goto IL_0074;
			}
			goto IL_008a;
			IL_008a:
			switch (num2)
			{
			case 5:
				break;
			case 4:
				goto IL_0066;
			case 1:
				goto IL_0074;
			case 2:
				continue;
			default:
				JyaJsyXfpg = (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(28) != 0;
				return rNkJYjMqnR(32);
			case 6:
				goto end_IL_00ad;
			}
			goto IL_000e;
			IL_0074:
			array[rNkJYjMqnR(16)] = yeu6YIjFTsI06GHsRv.S1r4lW10HJ(340);
			goto IL_0066;
			IL_0066:
			array2 = array;
			object_ = b4b4mki9gQ(intptr_0);
			goto IL_000e;
			IL_000e:
			string[] array3 = array2;
			int num3 = f8F0bInV17iDeAuVHn.DMNoUaDCL(20);
			while (num3 < (int)(nuint)TcjJJ1D2Wk(array3))
			{
				string object_2 = array3[num3];
				if (qM1J4JhFJb(object_, object_2, (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(24) != 0) != 0)
				{
					num3 += f8F0bInV17iDeAuVHn.DMNoUaDCL(36);
					continue;
				}
				goto IL_0053;
			}
			break;
			IL_0053:
			num2 = 0;
			if (!oTT4DpL2FE())
			{
				num2 = num;
			}
			goto IL_008a;
			continue;
			end_IL_00ad:
			break;
		}
		return f8F0bInV17iDeAuVHn.DMNoUaDCL(40);
	}

	[DllImport("user32.dll", CharSet = CharSet.Auto)]
	internal static extern int GetClassName(IntPtr intptr_0, StringBuilder stringBuilder_0, int int_0);

	internal static string b4b4mki9gQ(IntPtr intptr_0)
	{
		StringBuilder stringBuilder = new StringBuilder(rNkJYjMqnR(44));
		GetClassName(intptr_0, stringBuilder, bskJeFhCht(stringBuilder));
		return stringBuilder.ToString();
	}

	internal static void zvF4uw0ocj()
	{
		if (S5p4SctYYe())
		{
			int num = 0;
			if (Cv04zf8NiF() != null)
			{
				int num2 = default(int);
				num = num2;
			}
			switch (num)
			{
			}
			string object_ = yeu6YIjFTsI06GHsRv.S1r4lW10HJ(355);
			throw new Exception((string?)hlqJ03o7eu(yeu6YIjFTsI06GHsRv.S1r4lW10HJ(372), object_));
		}
	}

	internal static bool S5p4SctYYe()
	{
		try
		{
			IntPtr intptr_;
			int num;
			if (!Debugger.IsAttached)
			{
				intptr_ = LoadLibrary((string)oHmJlke0ye(499));
				num = 0;
				if (!oTT4DpL2FE())
				{
					goto IL_004f;
				}
				goto IL_006a;
			}
			goto IL_0091;
			IL_004f:
			int num2 = default(int);
			num = num2;
			goto IL_006a;
			IL_006a:
			yvTQS0BgEvv1N6M9uJ procAddress_2 = default(yvTQS0BgEvv1N6M9uJ);
			IntPtr intPtr = default(IntPtr);
			uint currentProcessId = default(uint);
			int num4 = default(int);
			int pbDebuggerPresent = default(int);
			int num6 = default(int);
			while (true)
			{
				switch (num)
				{
				case 7:
					if (procAddress_2 != null && procAddress_2() != 0)
					{
						return (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(52) != 0;
					}
					goto IL_003b;
				case 3:
					goto IL_003b;
				default:
					procAddress_2 = GetProcAddress_3(intptr_, yeu6YIjFTsI06GHsRv.S1r4lW10HJ(524));
					goto case 7;
				case 1:
					break;
				case 6:
					intPtr = OpenProcess((uint)f8F0bInV17iDeAuVHn.DMNoUaDCL(56), rNkJYjMqnR(60), currentProcessId);
					goto case 5;
				case 5:
				{
					if (Er8WVogI4PQlB6juG7.XDVJ8JPqJB(intPtr, IntPtr.Zero))
					{
						try
						{
							MXYLfyGnuFvdSkUkc6 procAddress_ = GetProcAddress_2(intptr_, yeu6YIjFTsI06GHsRv.S1r4lW10HJ(559));
							int num3;
							if (procAddress_ != null)
							{
								num3 = 1;
								if (!oTT4DpL2FE())
								{
									goto IL_0105;
								}
								goto IL_0123;
							}
							goto end_IL_00ce;
							IL_0105:
							num3 = num4;
							goto IL_0123;
							IL_0123:
							while (true)
							{
								switch (num3)
								{
								case 2:
									if (pbDebuggerPresent == 0)
									{
										break;
									}
									goto IL_00f8;
								case 1:
									pbDebuggerPresent = rNkJYjMqnR(64);
									if (procAddress_(intPtr, ref pbDebuggerPresent) != 0)
									{
										goto case 2;
									}
									break;
								default:
									return (byte)rNkJYjMqnR(68) != 0;
								}
								break;
								IL_00f8:
								num3 = 0;
								if (oTT4DpL2FE())
								{
									continue;
								}
								goto IL_0105;
							}
							end_IL_00ce:;
						}
						finally
						{
							CloseHandle(intPtr);
						}
					}
					bool flag = (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(72) != 0;
					try
					{
						CloseHandle(new IntPtr(f8F0bInV17iDeAuVHn.DMNoUaDCL(76)));
					}
					catch
					{
						flag = (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(80) != 0;
					}
					if (flag)
					{
						goto case 2;
					}
					goto case 4;
				}
				case 2:
					return (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(84) != 0;
				case 4:
					try
					{
						IntPtr intptr_2 = LoadLibrary((string)oHmJlke0ye(612));
						aX1rW1M0HJU1C2rnvB procAddress_3 = GetProcAddress_5(intptr_2, yeu6YIjFTsI06GHsRv.S1r4lW10HJ(633));
						if (procAddress_3 == null)
						{
							goto end_IL_006a;
						}
						while (true)
						{
							JyaJsyXfpg = (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(88) != 0;
							procAddress_3(GeZ4IaUwWg, IntPtr.Zero);
							if (JyaJsyXfpg)
							{
								bool result = (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(92) != 0;
								int num5 = 0;
								if (Cv04zf8NiF() != null)
								{
									num5 = num6;
								}
								switch (num5)
								{
								case 2:
									break;
								case 1:
									goto end_IL_01df;
								default:
									return result;
								case 0:
									return result;
								}
								continue;
							}
							break;
							continue;
							end_IL_01df:
							break;
						}
					}
					catch
					{
					}
					goto end_IL_006a;
				}
				goto IL_0091;
				IL_003b:
				currentProcessId = GetCurrentProcessId();
				num = 6;
				if (oTT4DpL2FE())
				{
					continue;
				}
				goto IL_004f;
				continue;
				end_IL_006a:
				break;
			}
			goto end_IL_0001;
			IL_0091:
			return (byte)f8F0bInV17iDeAuVHn.DMNoUaDCL(48) != 0;
			end_IL_0001:;
		}
		catch
		{
		}
		return (byte)rNkJYjMqnR(96) != 0;
	}

	internal static bool oTT4DpL2FE()
	{
		return SCLJVA37cq == null;
	}

	internal static VIK3bjkW0k3ix3eLtL Cv04zf8NiF()
	{
		return SCLJVA37cq;
	}

	internal static int rNkJYjMqnR(int int_0)
	{
		return f8F0bInV17iDeAuVHn.DMNoUaDCL(int_0);
	}

	internal static int qM1J4JhFJb(object object_0, object object_1, bool bool_0)
	{
		return string.Compare((string?)object_0, (string?)object_1, bool_0);
	}

	internal static UIntPtr TcjJJ1D2Wk(object object_0)
	{
		return tB1HWWclJR8ErhoNeF.RqAJEWVswX((string[])object_0);
	}

	internal static int bskJeFhCht(object object_0)
	{
		return ((StringBuilder)object_0).Capacity;
	}

	internal static object hlqJ03o7eu(object object_0, object object_1)
	{
		return string.Format((string)object_0, object_1);
	}

	internal static object oHmJlke0ye(int int_0)
	{
		return yeu6YIjFTsI06GHsRv.S1r4lW10HJ(int_0);
	}

	static VIK3bjkW0k3ix3eLtL()
	{
		K1GfMT41V9bS6oPmMyh.cKXl4vhcQo();
	}
}
