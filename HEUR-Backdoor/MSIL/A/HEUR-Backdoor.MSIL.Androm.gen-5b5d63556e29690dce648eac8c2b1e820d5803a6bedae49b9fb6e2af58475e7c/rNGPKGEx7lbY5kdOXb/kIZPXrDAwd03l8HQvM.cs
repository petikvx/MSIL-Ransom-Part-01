using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Text;
using BDa4ZXKErShorWxMGI;
using CywHuCRSJ9Nc0dmtm00;
using JP9JIiriF1t00O4yad;
using SRo1MyRyNCF0HMnMeRy;
using SSuK9ek9KwO0BlvPhK;
using jKN04iIwcaEWK5ttWc;
using mqTn2KRuHaeVC7qZfAP;
using wxNnkPycymM9OvIOIR;

namespace rNGPKGEx7lbY5kdOXb;

internal class kIZPXrDAwd03l8HQvM
{
	[StructLayout(LayoutKind.Sequential)]
	internal class GkMkf70C55ZtV5cGkp
	{
		internal IntPtr dRxFBR4Elp;

		internal IntPtr YD7FgoQYIK;

		internal IntPtr pLMFmWuGLN;

		internal IntPtr BgbFNSRcs6;

		internal IntPtr o9hF5hqZb9;

		internal IntPtr L89FMhgNew;

		private static GkMkf70C55ZtV5cGkp iiGFqAbH9a;

		public GkMkf70C55ZtV5cGkp()
		{
			h5jVfKRi6h9cyEPcYxd.nviIH7hzRoY0Y();
			NYjo1bRqUlt4IQc9SFk.Vax9ZyXknj();
			base._002Ector();
		}

		internal static bool GrlFnRKt1Y()
		{
			return iiGFqAbH9a == null;
		}

		internal static GkMkf70C55ZtV5cGkp LMiFCR6UhQ()
		{
			return iiGFqAbH9a;
		}

		static GkMkf70C55ZtV5cGkp()
		{
			uOxwGiRTS5ExO0AcR6j.vIHvRlxcnv();
		}
	}

	internal delegate int UtkZ06LxMnUwbP97CU(IntPtr ProcessHandle, int ProcessInformationClass, GkMkf70C55ZtV5cGkp ProcessInformation, uint ProcessInformationLength, out uint ReturnLength);

	internal delegate int beNjLbAMTGG1doLsnn(IntPtr ProcessHandle, int ProcessInformationClass, out uint debugPort, uint ProcessInformationLength, out uint ReturnLength);

	internal delegate int XT6Ckf2affG2jleutD();

	internal delegate void J3Jb39fiLvxcQnRgnw([MarshalAs(UnmanagedType.LPStr)] string lpOutputString);

	internal delegate int qW9HfT1ae1TNb6SiAE(IntPtr hProcess, ref int pbDebuggerPresent);

	internal delegate int l7Uaf63vqGhxNyfCw7(IntPtr wnd, IntPtr lParam);

	internal delegate int I0kLHQXlkJK7QMl7Pt(l7Uaf63vqGhxNyfCw7 lpEnumFunc, IntPtr lParam);

	private static bool emwFH1butp;

	private static kIZPXrDAwd03l8HQvM GocFV8OooL;

	public kIZPXrDAwd03l8HQvM()
	{
		h5jVfKRi6h9cyEPcYxd.nviIH7hzRoY0Y();
		NYjo1bRqUlt4IQc9SFk.Vax9ZyXknj();
		base._002Ector();
	}

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern void SetLastError(uint uint_0);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern int CloseHandle(IntPtr intptr_0);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern IntPtr OpenProcess(uint uint_0, int int_0, uint uint_1);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern uint GetCurrentProcessId();

	[DllImport("kernel32.dll", CharSet = CharSet.Auto, SetLastError = true)]
	internal static extern IntPtr LoadLibrary(string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, ExactSpelling = true)]
	internal static extern UtkZ06LxMnUwbP97CU GetProcAddress(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern beNjLbAMTGG1doLsnn GetProcAddress_1(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern qW9HfT1ae1TNb6SiAE GetProcAddress_2(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern XT6Ckf2affG2jleutD GetProcAddress_3(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern J3Jb39fiLvxcQnRgnw GetProcAddress_4(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern I0kLHQXlkJK7QMl7Pt GetProcAddress_5(IntPtr intptr_0, string string_0);

	private static int KXwRoonQ3k(IntPtr intptr_0, IntPtr intptr_1)
	{
		int num = 2;
		string[] array2 = default(string[]);
		string object_ = default(string);
		while (true)
		{
			string[] array = GEXFXjieE2LPxhhLDW.K7RFLBSyHN(ULcOpJSKcqn5WwQVeK.LotJkZ06x(12));
			int num2 = 1;
			if (ECARz1qPnu() == null)
			{
				goto IL_0074;
			}
			goto IL_008a;
			IL_008a:
			switch (num2)
			{
			case 5:
				break;
			case 4:
				goto IL_0066;
			case 1:
				goto IL_0074;
			case 2:
				continue;
			default:
				emwFH1butp = (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(28) != 0;
				return NfdFUePU3F(32);
			case 6:
				goto end_IL_00ad;
			}
			goto IL_000e;
			IL_0074:
			array[NfdFUePU3F(16)] = Tt0d9StenlyqxCnwtl.vkLRvHQlkJ(340);
			goto IL_0066;
			IL_0066:
			array2 = array;
			object_ = wQ2RQRL6nq(intptr_0);
			goto IL_000e;
			IL_000e:
			string[] array3 = array2;
			int num3 = ULcOpJSKcqn5WwQVeK.LotJkZ06x(20);
			while (num3 < (int)(nuint)O8iFFSxfev(array3))
			{
				string object_2 = array3[num3];
				if (RAdFR6Vjdw(object_, object_2, (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(24) != 0) != 0)
				{
					num3 += ULcOpJSKcqn5WwQVeK.LotJkZ06x(36);
					continue;
				}
				goto IL_0053;
			}
			break;
			IL_0053:
			num2 = 0;
			if (!IoDRxeMwxi())
			{
				num2 = num;
			}
			goto IL_008a;
			continue;
			end_IL_00ad:
			break;
		}
		return ULcOpJSKcqn5WwQVeK.LotJkZ06x(40);
	}

	[DllImport("user32.dll", CharSet = CharSet.Auto)]
	internal static extern int GetClassName(IntPtr intptr_0, StringBuilder stringBuilder_0, int int_0);

	internal static string wQ2RQRL6nq(IntPtr intptr_0)
	{
		StringBuilder stringBuilder = new StringBuilder(NfdFUePU3F(44));
		GetClassName(intptr_0, stringBuilder, sb8Faf51pP(stringBuilder));
		return stringBuilder.ToString();
	}

	internal static void gnwRdkPeBk()
	{
		if (QH2RlUMxqH())
		{
			int num = 0;
			if (ECARz1qPnu() != null)
			{
				int num2 = default(int);
				num = num2;
			}
			switch (num)
			{
			}
			string object_ = Tt0d9StenlyqxCnwtl.vkLRvHQlkJ(355);
			throw new Exception((string?)m8uF9jyk5m(Tt0d9StenlyqxCnwtl.vkLRvHQlkJ(372), object_));
		}
	}

	internal static bool QH2RlUMxqH()
	{
		try
		{
			IntPtr intptr_;
			int num;
			if (!Debugger.IsAttached)
			{
				intptr_ = LoadLibrary((string)VDNFvwF2uh(499));
				num = 0;
				if (!IoDRxeMwxi())
				{
					goto IL_004f;
				}
				goto IL_006a;
			}
			goto IL_0091;
			IL_004f:
			int num2 = default(int);
			num = num2;
			goto IL_006a;
			IL_006a:
			XT6Ckf2affG2jleutD procAddress_2 = default(XT6Ckf2affG2jleutD);
			IntPtr intPtr = default(IntPtr);
			uint currentProcessId = default(uint);
			int num4 = default(int);
			int pbDebuggerPresent = default(int);
			int num6 = default(int);
			while (true)
			{
				switch (num)
				{
				case 7:
					if (procAddress_2 != null && procAddress_2() != 0)
					{
						return (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(52) != 0;
					}
					goto IL_003b;
				case 3:
					goto IL_003b;
				default:
					procAddress_2 = GetProcAddress_3(intptr_, Tt0d9StenlyqxCnwtl.vkLRvHQlkJ(524));
					goto case 7;
				case 1:
					break;
				case 6:
					intPtr = OpenProcess((uint)ULcOpJSKcqn5WwQVeK.LotJkZ06x(56), NfdFUePU3F(60), currentProcessId);
					goto case 5;
				case 5:
				{
					if (AAr7xuhe7pJPFu6O68.i0AFue32aO(intPtr, IntPtr.Zero))
					{
						try
						{
							qW9HfT1ae1TNb6SiAE procAddress_ = GetProcAddress_2(intptr_, Tt0d9StenlyqxCnwtl.vkLRvHQlkJ(559));
							int num3;
							if (procAddress_ != null)
							{
								num3 = 1;
								if (!IoDRxeMwxi())
								{
									goto IL_0105;
								}
								goto IL_0123;
							}
							goto end_IL_00ce;
							IL_0105:
							num3 = num4;
							goto IL_0123;
							IL_0123:
							while (true)
							{
								switch (num3)
								{
								case 2:
									if (pbDebuggerPresent == 0)
									{
										break;
									}
									goto IL_00f8;
								case 1:
									pbDebuggerPresent = NfdFUePU3F(64);
									if (procAddress_(intPtr, ref pbDebuggerPresent) != 0)
									{
										goto case 2;
									}
									break;
								default:
									return (byte)NfdFUePU3F(68) != 0;
								}
								break;
								IL_00f8:
								num3 = 0;
								if (IoDRxeMwxi())
								{
									continue;
								}
								goto IL_0105;
							}
							end_IL_00ce:;
						}
						finally
						{
							CloseHandle(intPtr);
						}
					}
					bool flag = (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(72) != 0;
					try
					{
						CloseHandle(new IntPtr(ULcOpJSKcqn5WwQVeK.LotJkZ06x(76)));
					}
					catch
					{
						flag = (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(80) != 0;
					}
					if (flag)
					{
						goto case 2;
					}
					goto case 4;
				}
				case 2:
					return (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(84) != 0;
				case 4:
					try
					{
						IntPtr intptr_2 = LoadLibrary((string)VDNFvwF2uh(612));
						I0kLHQXlkJK7QMl7Pt procAddress_3 = GetProcAddress_5(intptr_2, Tt0d9StenlyqxCnwtl.vkLRvHQlkJ(633));
						if (procAddress_3 == null)
						{
							goto end_IL_006a;
						}
						while (true)
						{
							emwFH1butp = (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(88) != 0;
							procAddress_3(KXwRoonQ3k, IntPtr.Zero);
							if (emwFH1butp)
							{
								bool result = (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(92) != 0;
								int num5 = 0;
								if (ECARz1qPnu() != null)
								{
									num5 = num6;
								}
								switch (num5)
								{
								case 2:
									break;
								case 1:
									goto end_IL_01df;
								default:
									return result;
								case 0:
									return result;
								}
								continue;
							}
							break;
							continue;
							end_IL_01df:
							break;
						}
					}
					catch
					{
					}
					goto end_IL_006a;
				}
				goto IL_0091;
				IL_003b:
				currentProcessId = GetCurrentProcessId();
				num = 6;
				if (IoDRxeMwxi())
				{
					continue;
				}
				goto IL_004f;
				continue;
				end_IL_006a:
				break;
			}
			goto end_IL_0001;
			IL_0091:
			return (byte)ULcOpJSKcqn5WwQVeK.LotJkZ06x(48) != 0;
			end_IL_0001:;
		}
		catch
		{
		}
		return (byte)NfdFUePU3F(96) != 0;
	}

	internal static bool IoDRxeMwxi()
	{
		return GocFV8OooL == null;
	}

	internal static kIZPXrDAwd03l8HQvM ECARz1qPnu()
	{
		return GocFV8OooL;
	}

	internal static int NfdFUePU3F(int int_0)
	{
		return ULcOpJSKcqn5WwQVeK.LotJkZ06x(int_0);
	}

	internal static int RAdFR6Vjdw(object object_0, object object_1, bool bool_0)
	{
		return string.Compare((string?)object_0, (string?)object_1, bool_0);
	}

	internal static UIntPtr O8iFFSxfev(object object_0)
	{
		return cOIbIOZHwFMDJdNyEW.V1TFG0esE7((string[])object_0);
	}

	internal static int sb8Faf51pP(object object_0)
	{
		return ((StringBuilder)object_0).Capacity;
	}

	internal static object m8uF9jyk5m(object object_0, object object_1)
	{
		return string.Format((string)object_0, object_1);
	}

	internal static object VDNFvwF2uh(int int_0)
	{
		return Tt0d9StenlyqxCnwtl.vkLRvHQlkJ(int_0);
	}

	static kIZPXrDAwd03l8HQvM()
	{
		uOxwGiRTS5ExO0AcR6j.vIHvRlxcnv();
	}
}
