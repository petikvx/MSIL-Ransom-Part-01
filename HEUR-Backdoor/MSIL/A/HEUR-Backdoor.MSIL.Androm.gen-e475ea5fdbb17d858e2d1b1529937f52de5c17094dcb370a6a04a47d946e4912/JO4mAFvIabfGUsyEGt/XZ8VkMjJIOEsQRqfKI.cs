using System;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Text;
using Pj91rV27dKBAsuQFb5U;
using WEVFYJ2WPuik8y16vgG;
using jdITZ95QL30stisCF0;
using piO3af2M2LrtQb05a7e;
using sM92ZksHiB1Nlvt92E;
using sYYA3w7ZQygyyhIQss;
using xNJb4ahcHlVwTOu6o6;
using xRneZrxqy0ivxMVjb2;

namespace JO4mAFvIabfGUsyEGt;

internal class XZ8VkMjJIOEsQRqfKI
{
	[StructLayout(LayoutKind.Sequential)]
	internal class jsZPFIBT2U0YaCyteh
	{
		internal IntPtr KFX2CTmfjX;

		internal IntPtr bHO29N3Dyt;

		internal IntPtr Ll22uIykMm;

		internal IntPtr m8q2zOE9ZW;

		internal IntPtr HcdIZyfHrs;

		internal IntPtr kYBI2nkeHQ;

		private static jsZPFIBT2U0YaCyteh qdZIIce8VO;

		public jsZPFIBT2U0YaCyteh()
		{
			SRi2wG2ekq8Qq3o8MsP.BBNk2FYz0y7N1();
			HQO2FODUan();
			base._002Ector();
		}

		internal static void HQO2FODUan()
		{
			qrfVDV24YoTFkucSFup.SUCTSny3c8();
		}

		internal static bool Mc32XKNrj0()
		{
			return qdZIIce8VO == null;
		}

		internal static jsZPFIBT2U0YaCyteh rbk2QxSfsD()
		{
			return qdZIIce8VO;
		}

		static jsZPFIBT2U0YaCyteh()
		{
			nohvtg2Jq63jo2SldqX.Yg2TdiiKvR();
		}
	}

	internal delegate int r78Tjfn2Dgd8DLfH0v(IntPtr ProcessHandle, int ProcessInformationClass, jsZPFIBT2U0YaCyteh ProcessInformation, uint ProcessInformationLength, out uint ReturnLength);

	internal delegate int vMu9dEy8vVb0e0n5ls(IntPtr ProcessHandle, int ProcessInformationClass, out uint debugPort, uint ProcessInformationLength, out uint ReturnLength);

	internal delegate int mWIj0Q3eNAMPDn8Yjr();

	internal delegate void H8fCqoUPsQ5tI2LoVq([MarshalAs(UnmanagedType.LPStr)] string lpOutputString);

	internal delegate int vTerb5K51lQGrHYT5R(IntPtr hProcess, ref int pbDebuggerPresent);

	internal delegate int V2b9kjNu8jPmZDWrI7(IntPtr wnd, IntPtr lParam);

	internal delegate int gd1r7cOGo8MCMlEXiF(V2b9kjNu8jPmZDWrI7 lpEnumFunc, IntPtr lParam);

	private static bool CdC2kq3dOM;

	internal static XZ8VkMjJIOEsQRqfKI KdY2rBMEBE;

	public XZ8VkMjJIOEsQRqfKI()
	{
		SRi2wG2ekq8Qq3o8MsP.BBNk2FYz0y7N1();
		qrfVDV24YoTFkucSFup.SUCTSny3c8();
		base._002Ector();
	}

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern void SetLastError(uint uint_0);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern int CloseHandle(IntPtr intptr_0);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern IntPtr OpenProcess(uint uint_0, int int_0, uint uint_1);

	[DllImport("kernel32.dll", ExactSpelling = true)]
	internal static extern uint GetCurrentProcessId();

	[DllImport("kernel32.dll", CharSet = CharSet.Auto, SetLastError = true)]
	internal static extern IntPtr LoadLibrary(string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, ExactSpelling = true)]
	internal static extern r78Tjfn2Dgd8DLfH0v GetProcAddress(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern vMu9dEy8vVb0e0n5ls GetProcAddress_1(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern vTerb5K51lQGrHYT5R GetProcAddress_2(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern mWIj0Q3eNAMPDn8Yjr GetProcAddress_3(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern H8fCqoUPsQ5tI2LoVq GetProcAddress_4(IntPtr intptr_0, string string_0);

	[DllImport("kernel32.dll", CharSet = CharSet.Ansi, EntryPoint = "GetProcAddress", ExactSpelling = true)]
	internal static extern gd1r7cOGo8MCMlEXiF GetProcAddress_5(IntPtr intptr_0, string string_0);

	private static int EBF2aH15mY(IntPtr intptr_0, IntPtr intptr_1)
	{
		string[] array = NuVZRaV4sDdSkHyIuj.ar4I8uvG2U(WvO4icMl7ZKgPDqYX3.PqfcKIHO4(88));
		array[oWC2R3YrMB(92)] = nNSiQJPMiyM7492xIp.osQQ5tI2L(370);
		string[] array2 = array;
		int num = 3;
		if (!D5420itA0r())
		{
			goto IL_0042;
		}
		goto IL_00ac;
		IL_00ac:
		string strA = default(string);
		string[] array3 = default(string[]);
		int num2 = default(int);
		string strB = default(string);
		while (true)
		{
			switch (num)
			{
			case 5:
				num = 4;
				if (D5420itA0r())
				{
					continue;
				}
				break;
			case 3:
				strA = u522GkpI42(intptr_0);
				array3 = array2;
				num2 = WvO4icMl7ZKgPDqYX3.PqfcKIHO4(96);
				goto case 1;
			case 1:
				if (num2 >= (int)(nuint)ufevL0e6AUn8FAIkEf.QJQI6tDGCl(array3))
				{
					goto case 5;
				}
				goto case 2;
			case 2:
				strB = array3[num2];
				num = 0;
				if (wEd2dKFWUc() == null)
				{
					continue;
				}
				break;
			default:
				do
				{
					if (string.Compare(strA, strB, (byte)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(100) != 0) != 0)
					{
						num2 += oWC2R3YrMB(112);
						num = 1;
						continue;
					}
					CdC2kq3dOM = (byte)oWC2R3YrMB(104) != 0;
					return WvO4icMl7ZKgPDqYX3.PqfcKIHO4(108);
				}
				while (wEd2dKFWUc() != null);
				continue;
			case 4:
				return WvO4icMl7ZKgPDqYX3.PqfcKIHO4(116);
			}
			break;
		}
		goto IL_0042;
		IL_0042:
		int num3 = default(int);
		num = num3;
		goto IL_00ac;
	}

	[DllImport("user32.dll", CharSet = CharSet.Auto)]
	internal static extern int GetClassName(IntPtr intptr_0, StringBuilder stringBuilder_0, int int_0);

	internal static string u522GkpI42(IntPtr intptr_0)
	{
		StringBuilder stringBuilder = new StringBuilder(WvO4icMl7ZKgPDqYX3.PqfcKIHO4(120));
		GetClassName(intptr_0, stringBuilder, stringBuilder.Capacity);
		return stringBuilder.ToString();
	}

	internal static void mpk2cJb5kw()
	{
		if (XVT2wQAZ3F())
		{
			int num = 0;
			if (!D5420itA0r())
			{
				int num2 = default(int);
				num = num2;
			}
			switch (num)
			{
			}
			string arg = nNSiQJPMiyM7492xIp.osQQ5tI2L(385);
			throw new Exception(string.Format(nNSiQJPMiyM7492xIp.osQQ5tI2L(402), arg));
		}
	}

	internal static bool XVT2wQAZ3F()
	{
		try
		{
			int num;
			if (!Qyn2b6MKsp())
			{
				num = 0;
				if (!D5420itA0r())
				{
					goto IL_001a;
				}
				goto IL_0082;
			}
			return (byte)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(124) != 0;
			IL_01c2:
			return (byte)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(160) != 0;
			IL_001a:
			bool result = default(bool);
			switch (num)
			{
			case 7:
				break;
			case 4:
			case 6:
				goto IL_0082;
			default:
				goto IL_011b;
			case 1:
				goto IL_01c2;
			case 5:
				goto IL_01d3;
			case 2:
				return result;
			case 3:
				return result;
			}
			goto IL_0044;
			IL_0082:
			IntPtr intptr_ = LoadLibrary((string)uMC2tMw3Tu(529));
			mWIj0Q3eNAMPDn8Yjr procAddress_ = GetProcAddress_3(intptr_, nNSiQJPMiyM7492xIp.osQQ5tI2L(554));
			IntPtr intPtr = default(IntPtr);
			int num2 = default(int);
			if (procAddress_ == null || hX42gMVhdm(procAddress_) == 0)
			{
				uint currentProcessId = GetCurrentProcessId();
				intPtr = OpenProcess((uint)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(132), WvO4icMl7ZKgPDqYX3.PqfcKIHO4(136), currentProcessId);
				if (is8Ljb1V7WWvj4FU4D.nCyIYuWVBE(intPtr, IntPtr.Zero))
				{
					num = 0;
					if (wEd2dKFWUc() != null)
					{
						num = num2;
					}
					goto IL_001a;
				}
				goto IL_0101;
			}
			return (byte)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(128) != 0;
			IL_0044:
			bool flag = default(bool);
			try
			{
				CloseHandle(new IntPtr(WvO4icMl7ZKgPDqYX3.PqfcKIHO4(152)));
			}
			catch
			{
				flag = (byte)oWC2R3YrMB(156) != 0;
			}
			if (flag)
			{
				num = 1;
				if (D5420itA0r())
				{
					goto IL_001a;
				}
				goto IL_01c2;
			}
			goto IL_01d3;
			IL_01d3:
			try
			{
				IntPtr intptr_2 = LoadLibrary(nNSiQJPMiyM7492xIp.osQQ5tI2L(642));
				gd1r7cOGo8MCMlEXiF procAddress_2 = GetProcAddress_5(intptr_2, (string)uMC2tMw3Tu(663));
				int num3;
				if (procAddress_2 != null)
				{
					num3 = 0;
					if (wEd2dKFWUc() != null)
					{
						goto IL_0246;
					}
					goto IL_024a;
				}
				goto end_IL_01d3;
				IL_0246:
				int num4 = default(int);
				num3 = num4;
				goto IL_024a;
				IL_024a:
				while (true)
				{
					switch (num3)
					{
					default:
						CdC2kq3dOM = (byte)oWC2R3YrMB(164) != 0;
						procAddress_2(EBF2aH15mY, IntPtr.Zero);
						if (!CdC2kq3dOM)
						{
							break;
						}
						goto IL_0239;
					case 1:
						return (byte)oWC2R3YrMB(168) != 0;
					case 2:
						break;
					}
					break;
					IL_0239:
					num3 = 1;
					if (wEd2dKFWUc() == null)
					{
						continue;
					}
					goto IL_0246;
				}
				end_IL_01d3:;
			}
			catch
			{
			}
			goto end_IL_0001;
			IL_0101:
			flag = (byte)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(148) != 0;
			num2 = 7;
			goto IL_0044;
			IL_011b:
			try
			{
				vTerb5K51lQGrHYT5R procAddress_3 = GetProcAddress_2(intptr_, (string)uMC2tMw3Tu(589));
				if (procAddress_3 != null)
				{
					int num5 = 0;
					if (wEd2dKFWUc() != null)
					{
						int num6 = default(int);
						num5 = num6;
					}
					while (true)
					{
						switch (num5)
						{
						default:
							do
							{
								int pbDebuggerPresent = WvO4icMl7ZKgPDqYX3.PqfcKIHO4(140);
								if (procAddress_3(intPtr, ref pbDebuggerPresent) == 0)
								{
									num5 = 1;
									continue;
								}
								if (pbDebuggerPresent != 0)
								{
									result = (byte)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(144) != 0;
									return result;
								}
								goto end_IL_016e;
							}
							while (!D5420itA0r());
							continue;
						case 1:
							break;
						case 2:
							{
								return result;
							}
							end_IL_016e:
							break;
						}
						break;
					}
				}
			}
			finally
			{
				CloseHandle(intPtr);
			}
			goto IL_0101;
			end_IL_0001:;
		}
		catch
		{
		}
		return (byte)WvO4icMl7ZKgPDqYX3.PqfcKIHO4(172) != 0;
	}

	internal static bool D5420itA0r()
	{
		return KdY2rBMEBE == null;
	}

	internal static XZ8VkMjJIOEsQRqfKI wEd2dKFWUc()
	{
		return KdY2rBMEBE;
	}

	internal static int oWC2R3YrMB(int int_0)
	{
		return WvO4icMl7ZKgPDqYX3.PqfcKIHO4(int_0);
	}

	internal static bool Qyn2b6MKsp()
	{
		return Debugger.IsAttached;
	}

	internal static object uMC2tMw3Tu(int int_0)
	{
		return nNSiQJPMiyM7492xIp.osQQ5tI2L(int_0);
	}

	internal static int hX42gMVhdm(object object_0)
	{
		return object_0();
	}

	static XZ8VkMjJIOEsQRqfKI()
	{
		nohvtg2Jq63jo2SldqX.Yg2TdiiKvR();
	}
}
