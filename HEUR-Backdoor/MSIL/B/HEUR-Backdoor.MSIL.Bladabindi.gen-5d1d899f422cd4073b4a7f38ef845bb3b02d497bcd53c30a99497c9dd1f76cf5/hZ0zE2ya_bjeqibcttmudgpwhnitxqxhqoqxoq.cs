using System;

internal sealed class hZ0zE2ya_bjeqibcttmudgpwhnitxqxhqoqxoq
{
	private static readonly int a = 2 * Tzt4Tks1RuPQS_bjeqibcttmudgpwhnitxqxhqoqxos.f + 1;

	internal static readonly int[] b = new int[29]
	{
		0, 0, 0, 0, 0, 0, 0, 0, 1, 1,
		1, 1, 2, 2, 2, 2, 3, 3, 3, 3,
		4, 4, 4, 4, 5, 5, 5, 5, 0
	};

	internal static readonly int[] c = new int[30]
	{
		0, 0, 0, 0, 1, 1, 2, 2, 3, 3,
		4, 4, 5, 5, 6, 6, 7, 7, 8, 8,
		9, 9, 10, 10, 11, 11, 12, 12, 13, 13
	};

	internal static readonly int[] d = new int[19]
	{
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 2, 3, 7
	};

	internal static readonly sbyte[] e = new sbyte[19]
	{
		16, 17, 18, 0, 8, 7, 9, 6, 10, 5,
		11, 4, 12, 3, 13, 2, 14, 1, 15
	};

	internal const int f = 16;

	private static readonly sbyte[] g = new sbyte[512]
	{
		0, 1, 2, 3, 4, 4, 5, 5, 6, 6,
		6, 6, 7, 7, 7, 7, 8, 8, 8, 8,
		8, 8, 8, 8, 9, 9, 9, 9, 9, 9,
		9, 9, 10, 10, 10, 10, 10, 10, 10, 10,
		10, 10, 10, 10, 10, 10, 10, 10, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 12, 12, 12, 12, 12, 12,
		12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
		12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
		12, 12, 12, 12, 12, 12, 13, 13, 13, 13,
		13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
		13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
		13, 13, 13, 13, 13, 13, 13, 13, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 0, 0, 16, 17,
		18, 18, 19, 19, 20, 20, 20, 20, 21, 21,
		21, 21, 22, 22, 22, 22, 22, 22, 22, 22,
		23, 23, 23, 23, 23, 23, 23, 23, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		24, 24, 24, 24, 25, 25, 25, 25, 25, 25,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29
	};

	internal static readonly sbyte[] h = new sbyte[256]
	{
		0, 1, 2, 3, 4, 5, 6, 7, 8, 8,
		9, 9, 10, 10, 11, 11, 12, 12, 12, 12,
		13, 13, 13, 13, 14, 14, 14, 14, 15, 15,
		15, 15, 16, 16, 16, 16, 16, 16, 16, 16,
		17, 17, 17, 17, 17, 17, 17, 17, 18, 18,
		18, 18, 18, 18, 18, 18, 19, 19, 19, 19,
		19, 19, 19, 19, 20, 20, 20, 20, 20, 20,
		20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
		21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
		21, 21, 21, 21, 21, 21, 22, 22, 22, 22,
		22, 22, 22, 22, 22, 22, 22, 22, 22, 22,
		22, 22, 23, 23, 23, 23, 23, 23, 23, 23,
		23, 23, 23, 23, 23, 23, 23, 23, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		25, 25, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 28
	};

	internal static readonly int[] i = new int[29]
	{
		0, 1, 2, 3, 4, 5, 6, 7, 8, 10,
		12, 14, 16, 20, 24, 28, 32, 40, 48, 56,
		64, 80, 96, 112, 128, 160, 192, 224, 0
	};

	internal static readonly int[] j = new int[30]
	{
		0, 1, 2, 3, 4, 6, 8, 12, 16, 24,
		32, 48, 64, 96, 128, 192, 256, 384, 512, 768,
		1024, 1536, 2048, 3072, 4096, 6144, 8192, 12288, 16384, 24576
	};

	internal short[] k;

	internal int l;

	internal TASyjA_bjeqibcttmudgpwhnitxqxhqoqxot m;

	internal static int PsYjkc_a(int a)
	{
		if (a >= 256)
		{
			return g[256 + Class3.PsYjkc_a(a, 7)];
		}
		return g[a];
	}

	internal void PsYjkc_b(VYd4yT8_bjeqibcttmudgpwhnitxqxhqoqxoj a)
	{
		short[] array = k;
		short[] array2 = m.f;
		int[] array3 = m.g;
		int num = m.h;
		int num2 = m.j;
		int num3 = 0;
		for (int i = 0; i <= Tzt4Tks1RuPQS_bjeqibcttmudgpwhnitxqxhqoqxos.a; i++)
		{
			a.bf[i] = 0;
		}
		array[a.bg[a.bi] * 2 + 1] = 0;
		int j;
		for (j = a.bi + 1; j < hZ0zE2ya_bjeqibcttmudgpwhnitxqxhqoqxoq.a; j++)
		{
			int num4 = a.bg[j];
			int i = array[array[num4 * 2 + 1] * 2 + 1] + 1;
			if (i > num2)
			{
				i = num2;
				num3++;
			}
			array[num4 * 2 + 1] = (short)i;
			if (num4 <= l)
			{
				a.bf[i]++;
				int num5 = 0;
				if (num4 >= num)
				{
					num5 = array3[num4 - num];
				}
				short num6 = array[num4 * 2];
				a.bo += num6 * (i + num5);
				if (array2 != null)
				{
					a.bp += num6 * (array2[num4 * 2 + 1] + num5);
				}
			}
		}
		if (num3 == 0)
		{
			return;
		}
		do
		{
			int i = num2 - 1;
			while (a.bf[i] == 0)
			{
				i--;
			}
			a.bf[i]--;
			a.bf[i + 1] = (short)(a.bf[i + 1] + 2);
			a.bf[num2]--;
			num3 -= 2;
		}
		while (num3 > 0);
		for (int i = num2; i != 0; i--)
		{
			int num4 = a.bf[i];
			while (num4 != 0)
			{
				int num7 = a.bg[--j];
				if (num7 <= l)
				{
					if (array[num7 * 2 + 1] != i)
					{
						a.bo = (int)(a.bo + ((long)i - (long)array[num7 * 2 + 1]) * array[num7 * 2]);
						array[num7 * 2 + 1] = (short)i;
					}
					num4--;
				}
			}
		}
	}

	internal void PsYjkc_c(VYd4yT8_bjeqibcttmudgpwhnitxqxhqoqxoj a)
	{
		short[] array = k;
		short[] array2 = m.f;
		int num = m.i;
		int num2 = -1;
		a.bh = 0;
		a.bi = hZ0zE2ya_bjeqibcttmudgpwhnitxqxhqoqxoq.a;
		for (int i = 0; i < num; i++)
		{
			if (array[i * 2] != 0)
			{
				num2 = (a.bg[++a.bh] = i);
				a.bj[i] = 0;
			}
			else
			{
				array[i * 2 + 1] = 0;
			}
		}
		int num3;
		while (a.bh < 2)
		{
			num3 = (a.bg[++a.bh] = ((num2 < 2) ? (++num2) : 0));
			array[num3 * 2] = 1;
			a.bj[num3] = 0;
			a.bo--;
			if (array2 != null)
			{
				a.bp -= array2[num3 * 2 + 1];
			}
		}
		l = num2;
		for (int i = a.bh / 2; i >= 1; i--)
		{
			a.PsYjkc_d(array, i);
		}
		num3 = num;
		do
		{
			int i = a.bg[1];
			a.bg[1] = a.bg[a.bh--];
			a.PsYjkc_d(array, 1);
			int num4 = a.bg[1];
			a.bg[--a.bi] = i;
			a.bg[--a.bi] = num4;
			array[num3 * 2] = (short)(array[i * 2] + array[num4 * 2]);
			a.bj[num3] = (sbyte)(Math.Max((byte)a.bj[i], (byte)a.bj[num4]) + 1);
			array[i * 2 + 1] = (array[num4 * 2 + 1] = (short)num3);
			a.bg[1] = num3++;
			a.PsYjkc_d(array, 1);
		}
		while (a.bh >= 2);
		a.bg[--a.bi] = a.bg[1];
		PsYjkc_b(a);
		PsYjkc_d(array, num2, a.bf);
	}

	internal static void PsYjkc_d(short[] a, int b, short[] c)
	{
		short[] array = new short[Tzt4Tks1RuPQS_bjeqibcttmudgpwhnitxqxhqoqxos.a + 1];
		short num = 0;
		for (int i = 1; i <= Tzt4Tks1RuPQS_bjeqibcttmudgpwhnitxqxhqoqxos.a; i++)
		{
			num = (array[i] = (short)(num + c[i - 1] << 1));
		}
		for (int j = 0; j <= b; j++)
		{
			int num2 = a[j * 2 + 1];
			if (num2 != 0)
			{
				a[j * 2] = (short)PsYjkc_e(array[num2]++, num2);
			}
		}
	}

	internal static int PsYjkc_e(int a, int b)
	{
		int num = 0;
		do
		{
			num |= a & 1;
			a >>= 1;
			num <<= 1;
		}
		while (--b > 0);
		return num >> 1;
	}
}
