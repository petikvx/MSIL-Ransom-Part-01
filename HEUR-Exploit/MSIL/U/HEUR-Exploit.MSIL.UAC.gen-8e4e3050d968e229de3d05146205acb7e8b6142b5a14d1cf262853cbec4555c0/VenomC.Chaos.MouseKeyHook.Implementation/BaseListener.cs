using System;
using VenomC.Chaos.MouseKeyHook.WinApi;

namespace VenomC.Chaos.MouseKeyHook.Implementation;

internal abstract class BaseListener : IDisposable
{
	protected HookResult Handle { get; set; }

	protected BaseListener(Delegate14 subscribe)
	{
		Handle = subscribe(Callback);
	}

	public void Dispose()
	{
		Handle.Dispose();
	}

	protected abstract bool Callback(Struct17 data);
}
